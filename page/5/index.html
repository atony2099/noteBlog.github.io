<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
<meta property="og:url" content="atony2099.github.io/page/5/index.html">
<meta property="og:site_name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="atony2099.github.io/page/5/"/>





  <title> æ‰˜å°¼çš„å¼€å‘ç¬”è®° </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">æ‰˜å°¼çš„å¼€å‘ç¬”è®°</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/06/12/OCè¯­æ³•/property/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/12/OCè¯­æ³•/property/" itemprop="url">
                  property
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-06-12T22:27:40+08:00">
                2016-06
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p>å°è£…å®ä¾‹å˜é‡ï¼Œç”Ÿæˆå­˜å–æ–¹æ³•,ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆæˆ</p>
<p>property = var+ setter + getter</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@interface Person : NSObject</span><br><span class="line">@property NSString *name;</span><br><span class="line">@property NSString *lastName;</span><br><span class="line">@end</span><br><span class="line">//----ç­‰ä»·äº</span><br><span class="line">@interface Person : NSObject</span><br><span class="line">- (NSString *)name;</span><br><span class="line">- (void)setName:(NSString *)name;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<h4 id="ç”Ÿæˆå…³é”®å­—ç§ç±»"><a href="#ç”Ÿæˆå…³é”®å­—ç§ç±»" class="headerlink" title="ç”Ÿæˆå…³é”®å­—ç§ç±»"></a>ç”Ÿæˆå…³é”®å­—ç§ç±»</h4><ul>
<li><p>å†…å­˜ç®¡ç†</p>
<p>assign, weak,strong,copy</p>
<p>â€‹</p>
</li>
</ul>
<ul>
<li><p>çº¿ç¨‹å®‰å…¨</p>
<blockquote>
<p>atomic: åŠ é”ï¼Œ å¤šçº¿ç¨‹å®‰å…¨(å®‰å…¨), nonatomic:ä¸åŠ é”</p>
<p>ç›¸å…³ä¼ªä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; - (void)setProp:(NSString *)newValue &#123;</span><br><span class="line">&gt;     [_prop lock];</span><br><span class="line">&gt;     _prop = newValue;</span><br><span class="line">&gt;     [_prop unlock];</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>atomic åªèƒ½ä¿è¯è¯»å†™æ“ä½œçš„å®Œæ•´æ€§ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨</p>
<p>è¯•æƒ³ä¸€ä¸‹è¿™ä¸ªä¾‹å­</p>
<p>çº¿ç¨‹A å’Œçº¿ç¨‹BåŒæ—¶å¯¹Xè¿›è¡Œå†™å…¥æ“ä½œã€‚</p>
<p>å½“çº¿ç¨‹Aè¿›è¡Œå†™æ“ä½œï¼Œè¿™æ—¶å…¶ä»–çº¿ç¨‹çš„è¯»æˆ–è€…å†™æ“ä½œä¼šå› ä¸ºè¯¥æ“ä½œè€Œç­‰å¾…ã€‚å½“Açº¿ç¨‹çš„å†™æ“ä½œç»“æŸåï¼ŒBçº¿ç¨‹è¿›è¡Œå†™æ“ä½œï¼Œç„¶åå½“Açº¿ç¨‹éœ€è¦è¯»æ“ä½œæ—¶ï¼Œå´è·å¾—äº†åœ¨Bçº¿ç¨‹ä¸­çš„å€¼ï¼Œè¿™å°±ç ´åäº†çº¿ç¨‹å®‰å…¨ã€‚</p>
<p>Thread A:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; p.firstName = @&quot;Rob&quot;;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>Thread B:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; p.firstName = @&quot;Robert&quot;;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>Thread A:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; label.string = p.firstName;   // &lt;&lt; uh, oh -- will be Robert</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>â€‹</p>
</li>
<li><p>è¯»å†™</p>
<p>readwrite, readonly</p>
<blockquote>
<p>readonly ä¸åˆæˆsetteræ–¹æ³•</p>
</blockquote>
</li>
<li><p>å‘½å</p>
<p>for: </p>
<p><code>@property (nonatomic, assign, getter = isOpen) BOOL open;</code></p>
<p>setterçš„ä¿®æ”¹æ–¹å¼ç±»ä¼¼ï¼Œåªæ˜¯ä¸å¤ªå¸¸ç”¨</p>
</li>
</ul>
<p>å‚è€ƒ:</p>
<p><a href="http://stackoverflow.com/questions/12347236/which-is-threadsafe-atomic-or-non-atomic" target="_blank" rel="external">Which is threadsafe atomic or non atomic?</a></p>
<p><a href="http://blog.talisk.cn/blog/2016/03/05/iOS-@property/" target="_blank" rel="external">@propertyçš„å‰ä¸–ä»Šç”Ÿ</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/21/RACå¤§æ³•å¥½/MVVM/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/21/RACå¤§æ³•å¥½/MVVM/" itemprop="url">
                  å¹¸å­˜è€…åå·®
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-21T14:18:27+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å¹¸å­˜è€…åå·®"><a href="#å¹¸å­˜è€…åå·®" class="headerlink" title="å¹¸å­˜è€…åå·®"></a>å¹¸å­˜è€…åå·®</h4><blockquote>
<p>å¹¸å­˜è€…åå·®ï¼Œ<strong>åªèƒ½çœ‹åˆ°æŸç§ç­›é€‰çš„ç»“æœè€Œæ²¡æœ‰æ„è¯†åˆ°ç­›é€‰çš„è¿‡ç¨‹ï¼Œä»è€Œå¿½ç•¥äº†è¢«ç­›é€‰æ‰çš„å…³é”®ä¿¡æ¯</strong></p>
<ol>
<li>ä¸€åè®°è€…æ¥åˆ°ç«è½¦ç«™å°ä¸Šï¼Œéšæœºè¯¢é—®ï¼šâ€œè¯·é—®ä½ ä¹°åˆ°ç«è½¦ç¥¨äº†å—ï¼Ÿâ€ </li>
</ol>
<p>ä¸€ä½å¤§å¦ˆå¾®å¾®ä¸€æ„£ï¼Œå›ç­”ï¼šâ€œä¹°åˆ°äº†â€ </p>
<p>è®°è€…åˆè½¬å‘ä¸€ä½ç²¾ç˜¦ç²¾ç˜¦çš„å¹´è½»äººï¼Œé—®ï¼šâ€œè¯·é—®ä½ ä¹°åˆ°ç«è½¦ç¥¨äº†å—ï¼Ÿâ€<br>å¹´è½»äººå›ç­”ï¼šâ€œä¹°åˆ°äº†â€ </p>
<p>éšåè®°è€…åˆé—®äº†5ä¸ªäººï¼Œå¤§å®¶éƒ½å›ç­”ï¼šâ€œä¹°åˆ°äº†â€ </p>
<p>æœ€åè®°è€…å¯¹ç€é•œå¤´è¯´ï¼šâ€œä»Šå¹´è™½ç„¶ç«è½¦ç¥¨éš¾ä¹°ï¼Œä½†æ˜¯é€šè¿‡é‡‡è®¿æˆ‘ä»¬å‘ç°ï¼Œå¤§å®¶éƒ½ä¹°åˆ°äº†ç«è½¦ç¥¨ï¼Œç°åœ¨æ­£æ»¡æ€€å¸Œæœ›åœ°èµ¶å›å®¶ä¹¡ï¼Œè¿‡ä¸ªå›¢åœ†å¹´ï¼</p>
<ol>
<li>åˆ›ä¸šã€‚æ–°é—»åª’ä½“åªä¼šæŠ¥é“æ´»ä¸‹æ¥çš„ä¼ä¸šï¼Œä½ ä¸€çœ‹å…¨ä¸–ç•Œéƒ½æ˜¯åˆ›ä¸šæˆåŠŸçš„ä¼ä¸šï¼Œäºæ˜¯è¢«å‘è¿›å»äº†.</li>
</ol>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/11/æ€§èƒ½ä¼˜åŒ–/ç¦»å±æ¸²æŸ“/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/11/æ€§èƒ½ä¼˜åŒ–/ç¦»å±æ¸²æŸ“/" itemprop="url">
                  ç¦»å±æ¸²æŸ“
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-11T23:38:06+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="ä»€ä¹ˆæ˜¯ç¦»å±æ¸²æŸ“"><a href="#ä»€ä¹ˆæ˜¯ç¦»å±æ¸²æŸ“" class="headerlink" title="ä»€ä¹ˆæ˜¯ç¦»å±æ¸²æŸ“"></a>ä»€ä¹ˆæ˜¯ç¦»å±æ¸²æŸ“</h4><blockquote>
<p>off-Screen Rendering,åœ¨å½“å‰å±å¹•ç¼“å†²åŒºæ–°å¼€ä¸€ä¸ªç¼“å†²åŒºè¿›è¡Œæ“ä½œ</p>
</blockquote>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-1-20/65044499-file_1484920235247_94fc.png" alt=""></p>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-1-20/49773130-file_1484920235096_dcca.png" alt=""></p>
<p> æ­£å¸¸æƒ…å†µä¸‹ï¼ŒGPUåœ¨å½“å‰å±å¹•çš„ç¼“å†²åŒºè¿›è¡Œæ¸²æŸ“å°±å¯ä»¥äº†</p>
<p>å¯¹äºæ¯”è¾ƒå¤æ‚å›¾å½¢ï¼Œè¦å¼€è¾Ÿæ–°çš„ç¼“å†²åŒºï¼Œåˆ†é€šé“è¿›è¡Œæ¸²æŸ“ï¼Œæœ€åæ‰åˆå¹¶</p>
<p>å…·ä½“åŒ…æ‹¬ä»¥ä¸‹æƒ…å†µ</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/01/RACå¤§æ³•å¥½/reactive-cocoaå­¦ä¹ ç¬”è®°/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/01/RACå¤§æ³•å¥½/reactive-cocoaå­¦ä¹ ç¬”è®°/" itemprop="url">
                  reactive cocoaå­¦ä¹ ç¬”è®°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-01T08:00:00+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://mrpeak.cn/blog/functional/" target="_blank" rel="external">iOSä¸å‡½æ•°å¼ç¼–ç¨‹</a></p>
<p><a href="https://gold.xitu.io/post/583907a961ff4b006cafce82" target="_blank" rel="external">ReactiveCocoa ä¸­ RACSignal æ‰€æœ‰å˜æ¢æ“ä½œåº•å±‚å®ç°åˆ†æ(ä¸Š)</a></p>
<p><a href="http://mcxiaoke.gitbooks.io/rxdocs/content/" target="_blank" rel="external">ReactiveX/RxJavaæ–‡æ¡£ä¸­æ–‡ç‰ˆ</a></p>
<p><a href="http://tech.meituan.com/RACSignalSubscription.html" target="_blank" rel="external">RACSignalçš„Subscriptionæ·±å…¥åˆ†æ</a></p>
<h4 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h4><h5 id="side-effects-å‰¯ä½œç”¨"><a href="#side-effects-å‰¯ä½œç”¨" class="headerlink" title="side effects(å‰¯ä½œç”¨)"></a>side effects(å‰¯ä½œç”¨)</h5><blockquote>
<p> In <a href="https://en.wikipedia.org/wiki/Computer_science" target="_blank" rel="external">computer science</a>, a <a href="https://en.wikipedia.org/wiki/Subroutine" target="_blank" rel="external">function</a> or <a href="https://en.wikipedia.org/wiki/Expression_(programming" target="_blank" rel="external">expression</a>) is said to have a <strong>side effect</strong> if it modifies some <a href="https://en.wikipedia.org/wiki/State_(computer_science" target="_blank" rel="external">state</a>) outside its scope or has an <em>observable</em> interaction with its calling functions or the outside world</p>
<p> For example, a particular function might modify a <a href="https://en.wikipedia.org/wiki/Global_variable" target="_blank" rel="external">global variable</a> or <a href="https://en.wikipedia.org/wiki/Static_variable" target="_blank" rel="external">static variable</a>, modify one of its arguments, raise an exception, write data to a display or file, read data, or call other side-effecting functions.</p>
<p> ç®€å•ç†è§£: ä¸€ä¸ªå‡½æ•°çš„å½±å“åº”æ§åˆ¶åœ¨å®ƒçš„ä½œç”¨åŸŸå†…ï¼Œå®ƒåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸åº”è¯¥ä¾èµ–å¤–éƒ¨æˆ–è€…å¯¹å¤–éƒ¨äº§ç”Ÿå½±å“</p>
<p> å¸¸è§çš„å‰¯ä½œç”¨</p>
<ol>
<li>å½±å“äº†å¤–éƒ¨å˜é‡ï¼Œæ¯”å¦‚å…¨å±€å˜é‡</li>
<li>å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ä¾èµ–å¤–éƒ¨å˜é‡</li>
<li>å…¶ä»–å¤–éƒ¨å½±å“:å‡½æ•°æ‰§è¡Œä¸­ï¼Œlogå‡ºä¿¡æ¯ï¼Œå†™å…¥äº†æ–‡ä»¶ï¼Œè§¦å‘äº†ç½‘ç»œè¯·æ±‚ï¼Œæ›´æ–°äº†å±å¹•</li>
</ol>
</blockquote>
<h5 id="referential-transparency-å¼•ç”¨é€æ˜"><a href="#referential-transparency-å¼•ç”¨é€æ˜" class="headerlink" title="referential transparency(å¼•ç”¨é€æ˜)"></a>referential transparency(å¼•ç”¨é€æ˜)</h5><blockquote>
<p><a href="http://stackoverflow.com/questions/210835/what-is-referential-transparency" target="_blank" rel="external">What is referential transparency?</a></p>
<p>Referential transparency, a term commonly used in functional programming, means that given a function and an input value, you will always receive the same output. That is to say there is no external state used in the function.</p>
<p>Here is an example of a referential transparent function:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; int plusOne(int x)</span><br><span class="line">&gt; &#123;</span><br><span class="line">&gt;   return x+1;</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>With a referential transparent function, given an input and a function, you could replace it with a value instead of calling the function. So instead of calling plusOne with a paremter of 5, we could just replace that with 6.</p>
<p>Another good example is mathematics in general. In mathematics given a function and an input value, it will always map to the same output value. f(x) = x + 1. Therefore functions in mathematics are referentially transparent.</p>
<ul>
<li><p>ç®€å•ç†è§£: å¼•ç”¨é€æ˜ï¼Œå‡½æ•°è¾“å…¥ç›¸åŒå‚æ•°æ€»æ˜¯å¾—åˆ°ç›¸åŒçš„ç»“æœ.</p>
<p>func(A) = 5, func(A)å¯ä»¥ç”¨5æ¥ä»£æ›¿</p>
</li>
</ul>
</blockquote>
<h5 id="pure-function"><a href="#pure-function" class="headerlink" title="pure function"></a>pure function</h5><blockquote>
<p> <strong>a pure function is referentially transparent and has no side effects</strong></p>
<p>çº¯å‡½æ•°æ˜¯å…·å¤‡å¼•ç”¨é€æ˜ å’Œæ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•°</p>
</blockquote>
<h5 id="First-Class"><a href="#First-Class" class="headerlink" title="First Class"></a>First Class</h5><blockquote>
<p>å‡½æ•°: æ™®é€šå…¬æ°‘ </p>
<p>å˜é‡:ä¸€ç­‰å…¬æ°‘</p>
<p>å‡½æ•°ç¼–ç¨‹çš„ä¸€ç­‰å…¬æ°‘: å‡½æ•°å¯ä»¥åƒå˜é‡é‚£æ ·è‡ªç”±ä¼ é€’(å½“åšå‚æ•°æˆ–è€…è¿”å›å€¼)</p>
<p>RACStream //æŠ½è±¡ç±»</p>
<ul>
<li>RACSignal  </li>
<li>RACSubject // A subject can be thought of as a signal that you can manually control by sending next, completed, and error.</li>
</ul>
</blockquote>
<h4 id="ä¿¡å·çš„ç†è§£"><a href="#ä¿¡å·çš„ç†è§£" class="headerlink" title="ä¿¡å·çš„ç†è§£"></a>ä¿¡å·çš„ç†è§£</h4><p>reactive cocoa ä¸»è¦æ“ä½œçš„æ˜¯ä¿¡å·ã€‚</p>
<blockquote>
<p> <strong>ä¿¡å·</strong>:å¯ä»¥æŠŠä¿¡å·æƒ³è±¡æˆæ°´é¾™å¤´ï¼Œåªä¸è¿‡é‡Œé¢ä¸æ˜¯æ°´ï¼Œè€Œæ˜¯ç»ç’ƒçƒ(value)ï¼Œç›´å¾„è·Ÿæ°´ç®¡çš„å†…å¾„ä¸€æ ·ï¼Œè¿™æ ·å°±èƒ½ä¿è¯ç»ç’ƒçƒæ˜¯ä¾æ¬¡æ’åˆ—ï¼Œä¸ä¼šå‡ºç°å¹¶æ’çš„æƒ…å†µ(æ•°æ®éƒ½æ˜¯çº¿æ€§å¤„ç†çš„ï¼Œä¸ä¼šå‡ºç°å¹¶å‘æƒ…å†µ)ã€‚æ°´é¾™å¤´çš„å¼€å…³é»˜è®¤æ˜¯å…³çš„ï¼Œé™¤éæœ‰äº†æ¥æ”¶æ–¹(subscriber)ï¼Œæ‰ä¼šæ‰“å¼€ã€‚è¿™æ ·åªè¦æœ‰æ–°çš„ç»ç’ƒçƒè¿›æ¥ï¼Œå°±ä¼šè‡ªåŠ¨ä¼ é€ç»™æ¥æ”¶æ–¹ã€‚å¯ä»¥åœ¨æ°´é¾™å¤´ä¸ŠåŠ ä¸€ä¸ªè¿‡æ»¤å˜´(filter)ï¼Œä¸ç¬¦åˆçš„ä¸è®©é€šè¿‡ï¼Œä¹Ÿå¯ä»¥åŠ ä¸€ä¸ªæ”¹åŠ¨è£…ç½®ï¼ŒæŠŠçƒæ”¹å˜æˆç¬¦åˆè‡ªå·±çš„éœ€æ±‚(map)ã€‚ä¹Ÿå¯ä»¥æŠŠå¤šä¸ªæ°´é¾™å¤´åˆå¹¶æˆä¸€ä¸ªæ–°çš„æ°´é¾™å¤´(combineLatest:reduce:)ï¼Œè¿™æ ·åªè¦å…¶ä¸­çš„ä¸€ä¸ªæ°´é¾™å¤´æœ‰ç»ç’ƒçƒå‡ºæ¥ï¼Œè¿™ä¸ªæ–°åˆå¹¶çš„æ°´é¾™å¤´å°±ä¼šå¾—åˆ°è¿™ä¸ªçƒã€‚</p>
</blockquote>
<h4 id="ä¿¡å·çš„åŸºæœ¬æ“ä½œ"><a href="#ä¿¡å·çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="ä¿¡å·çš„åŸºæœ¬æ“ä½œ"></a>ä¿¡å·çš„åŸºæœ¬æ“ä½œ</h4><h5 id="è¿‡æ»¤æ“ä½œ"><a href="#è¿‡æ»¤æ“ä½œ" class="headerlink" title="è¿‡æ»¤æ“ä½œ"></a>è¿‡æ»¤æ“ä½œ</h5><h6 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h6><p>Maps <code>block</code> across the values in the receiver.</p>
<h6 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h6><p>Filters out values in the receiver that donâ€™t pass the given test.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">   RACSignal *signalP= [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123;</span><br><span class="line">       </span><br><span class="line">       [subscriber sendNext:@1];</span><br><span class="line">       [subscriber sendNext:@2];</span><br><span class="line">       [subscriber sendCompleted];</span><br><span class="line">       </span><br><span class="line">       return [RACDisposable disposableWithBlock:^&#123;</span><br><span class="line">           NSLog(@&quot;dispose&quot;);</span><br><span class="line">       &#125;];</span><br><span class="line">   &#125;];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   RACSignal *signalN = [signalP map:^id(NSNumber *value) &#123;</span><br><span class="line">       return @([value intValue] +1);</span><br><span class="line">   &#125;];</span><br><span class="line"></span><br><span class="line">RACSignal *signalG = [signalP filter:^BOOL(NSNumber *value) &#123;</span><br><span class="line">      </span><br><span class="line">       return [value intValue] &gt; 1;</span><br><span class="line">   &#125;];</span><br><span class="line">   // output: 2,3</span><br><span class="line">   [signalN subscribeNext:^(id x) &#123;</span><br><span class="line">       NSLog(@&quot;%@&quot;,x);</span><br><span class="line">   &#125;];</span><br><span class="line">// output:2</span><br><span class="line">   [signalG subscribeNext:^(id x) &#123;</span><br><span class="line">       NSLog(@&quot;%@&quot;,x);</span><br><span class="line">   &#125;];</span><br></pre></td></tr></table></figure>
<h6 id="throttle"><a href="#throttle" class="headerlink" title="throttle"></a>throttle</h6><p>æŒ‡å®šæ—¶é—´å†…ï¼Œäº§ç”ŸAä¿¡å·ï¼Œç´§æ¥ç€äº§ç”ŸBä¿¡å·ï¼Œè¿™æ—¶å€™Aä¿¡å·å°±ä¼šè¢«æŠ›å¼ƒï¼Œ</p>
<p>å¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…ï¼Œå†ä¹Ÿæ²¡æœ‰äº§ç”Ÿæ–°ä¿¡å·ï¼Œåˆ™Bä¿¡å·ä¼šä¸€ç›´ä¿ç•™çŸ¥é“æŒ‡å®šæ—¶é—´åˆ°è¾¾</p>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-1-23/23396068-file_1485141818101_8d8f.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[[[RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber)&#123;</span><br><span class="line">    [subscriber sendNext:@&quot;ğŸ¹1&quot;];</span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        [subscriber sendNext:@&quot;ğŸ¹2&quot;];</span><br><span class="line">    &#125;);</span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        [subscriber sendNext:@&quot;ğŸ¹3&quot;];</span><br><span class="line">        [subscriber sendNext:@&quot;ğŸ¹4&quot;];</span><br><span class="line">        [subscriber sendNext:@&quot;ğŸ¹5&quot;];</span><br><span class="line">    &#125;);</span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        [subscriber sendNext:@&quot;ğŸ¹6&quot;];</span><br><span class="line">    &#125;);</span><br><span class="line">    return nil;</span><br><span class="line">&#125;] throttle:10] subscribeNext:^(id x) &#123;</span><br><span class="line">    NSLog(@&quot;%@é€šè¿‡äº†&quot;,x);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h5 id="distinctUntilChanged"><a href="#distinctUntilChanged" class="headerlink" title="distinctUntilChanged"></a>distinctUntilChanged</h5><p><img src="https://mcxiaoke.gitbooks.io/rxdocs/content/im&gt; ages/operators/distinctUntilChanged.png" alt=""></p>
<p>ä¸å‰é©±å€¼ä¸åŒè¿‡æ»¤æ‰</p>
<h6 id="skip"><a href="#skip" class="headerlink" title="skip"></a>skip</h6><h6 id="take"><a href="#take" class="headerlink" title="take"></a>take</h6><h4 id="å¤šä¸ªä¿¡å·çš„ç»„åˆæ“ä½œ"><a href="#å¤šä¸ªä¿¡å·çš„ç»„åˆæ“ä½œ" class="headerlink" title="å¤šä¸ªä¿¡å·çš„ç»„åˆæ“ä½œ"></a>å¤šä¸ªä¿¡å·çš„ç»„åˆæ“ä½œ</h4><p>å…³æ³¨çš„é—®é¢˜: </p>
<ul>
<li>å—é‚£ä¸ªä¿¡å·ç»ˆæ­¢è€Œç»ˆæ­¢</li>
<li>é”™è¯¯ä¼ é€’</li>
<li>å„ä¸ªä¿¡å·ä½•æ—¶å¼€å§‹è®¢é˜…</li>
</ul>
<h5 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h5><p><img src="http://ohbzayk4i.bkt.clouddn.com/Jietu20170122-191924.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  RACSignal *singalA = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123;</span><br><span class="line">      [subscriber sendNext:@1];</span><br><span class="line">       [subscriber sendCompleted];</span><br><span class="line">      return nil;</span><br><span class="line">   &#125;];</span><br><span class="line">   RACSignal *singalB= [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123;</span><br><span class="line">       [subscriber sendNext:@2];</span><br><span class="line">       [subscriber sendCompleted];</span><br><span class="line">       return nil;</span><br><span class="line">   &#125;];</span><br><span class="line">   </span><br><span class="line">   RACSignal *singalC = [singalA concat:singalB];</span><br><span class="line"></span><br><span class="line">// OUTPUT : 1,2,</span><br><span class="line">   [singalC subscribeNext:^(id x) &#123;</span><br><span class="line">       NSLog(@&quot;%@&quot;,x);</span><br><span class="line">   &#125;];</span><br></pre></td></tr></table></figure>
<p>å…³é”®ç‚¹: å¿…é¡»ç­‰å¾…ç¬¬ä¸€ä¸ªä¿¡å·ç»“æŸã€‚</p>
<h5 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h5><p><img src="http://ohbzayk4i.bkt.clouddn.com/Jietu20170123-025345.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">RACSubject *subject1 = [RACSubject subject];</span><br><span class="line">RACSubject *subject2 = [RACSubject subject];</span><br><span class="line">RACSignal *signal =  [RACSignal merge:@[subject1, subject2]];</span><br><span class="line">// OUTPUT : 1,2,3,4</span><br><span class="line">[signal subscribeNext:^(id x) &#123;</span><br><span class="line">    NSLog(@&quot;%@&quot;,x);</span><br><span class="line">&#125;];</span><br><span class="line">[subject1 sendNext:@1];</span><br><span class="line">[subject2 sendNext:@2];</span><br><span class="line">[subject1 sendNext:@3];</span><br><span class="line">[subject2 sendNext:@4];</span><br></pre></td></tr></table></figure>
<p>å…³é”®ç‚¹:å“ªä¸ªå…ˆåˆ°è¾“å‡ºå“ªä¸ª</p>
<h4 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h4><blockquote>
<p>The first value of each stream will be combined, then the second value, and so forth, until at least one of the streams is exhausted. <strong>å®ƒæŒ‰ç…§ä¸¥æ ¼çš„é¡ºåºç»„åˆä¿¡å·ï¼Œåªæœ‰å½“åŸå§‹çš„Observableä¸­çš„æ¯ä¸€ä¸ªéƒ½å‘å°„äº†ä¸€æ¡æ•°æ®æ—¶<code>zip</code>æ‰å‘å°„æ•°æ®,æƒ³è±¡æˆæ‹‰é“¾ï¼Œä¸€ç¯æ‰£ä¸€ç¯</strong></p>
</blockquote>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/Jietu20170123-040639.jpg" alt=""></p>
<h4 id="combineLatest"><a href="#combineLatest" class="headerlink" title="combineLatest"></a>combineLatest</h4><p>ç»„åˆçš„æ•°å€¼æ€»æ˜¯ä¿æŒæœ€æ–°çš„</p>
<blockquote>
<p>å½“åŸå§‹Observablesçš„ä»»ä½•ä¸€ä¸ªå‘å°„äº†ä¸€æ¡æ•°æ®æ—¶ï¼Œ<code>CombineLatest</code>ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ç»“åˆå®ƒä»¬æœ€è¿‘å‘å°„çš„æ•°æ®ï¼Œç„¶åå‘å°„è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼</p>
</blockquote>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/Snip20170123_1.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">   </span><br><span class="line">RACSubject *subject1 = [RACSubject subject];</span><br><span class="line">RACSubject *subject2 = [RACSubject subject];</span><br><span class="line">RACSignal *signal =  [RACSignal combineLatest:@[subject1, subject2]];</span><br><span class="line"></span><br><span class="line">// output: ractuple(1,11), ractuple(1,2),ractuple(3,11), ractuple3,4),</span><br><span class="line">[signal subscribeNext:^(id x) &#123;</span><br><span class="line">    NSLog(@&quot;%@&quot;,x);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">[subject1 sendNext:@1];</span><br><span class="line">[subject2 sendNext:@11];</span><br><span class="line">[subject2 sendNext:@2];</span><br><span class="line">[subject1 sendNext:@3];</span><br><span class="line">[subject2 sendNext:@4];</span><br></pre></td></tr></table></figure>
<h4 id="é«˜é˜¶ä¿¡å·çš„æ“ä½œ"><a href="#é«˜é˜¶ä¿¡å·çš„æ“ä½œ" class="headerlink" title="é«˜é˜¶ä¿¡å·çš„æ“ä½œ"></a>é«˜é˜¶ä¿¡å·çš„æ“ä½œ</h4><p><img src="http://ohbzayk4i.bkt.clouddn.com/17-1-23/55592449-file_1485132732496_ef3a.png" alt=""></p>
<p>[1,2,3,[3,4],5] </p>
<p>æ•°ç»„çš„æ•°ç»„: æ•°ç»„é‡Œé¢æ˜¯æ•°ç»„</p>
<p>é«˜é˜¶ä¿¡å·: ä¿¡å·æµé‡Œé¢è¿˜æ˜¯ä¿¡å·ã€‚</p>
<h5 id="é™é˜¶æ“ä½œ"><a href="#é™é˜¶æ“ä½œ" class="headerlink" title="é™é˜¶æ“ä½œ"></a>é™é˜¶æ“ä½œ</h5><h6 id="Switchtolasts"><a href="#Switchtolasts" class="headerlink" title="Switchtolasts"></a>Switchtolasts</h6><blockquote>
<p>å…³é”®ç‚¹:æ–°çš„ä¿¡å·å¼€å§‹è¢«è®¢é˜…æ—¶å€™ï¼Œå‰ä¸€ä¸ªä¿¡å·ä¼šè¢«å–æ¶ˆè®¢é˜…ã€‚</p>
</blockquote>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-1-23/77510402-file_1485133672444_3a17.png" alt=""></p>
<h6 id="Flatten"><a href="#Flatten" class="headerlink" title="Flatten"></a>Flatten</h6><blockquote>
<p>å…³é”®ç‚¹: å„ä¸ªä¿¡å·éƒ½ä¼šè¢«é™è§£ï¼Œä¸ä¼šè¢«å–æ¶ˆ</p>
</blockquote>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-1-24/53245742-file_1485258981093_15afe.png" alt=""></p>
<h4 id="è®¢é˜…è¿‡ç¨‹ç®€æ"><a href="#è®¢é˜…è¿‡ç¨‹ç®€æ" class="headerlink" title="è®¢é˜…è¿‡ç¨‹ç®€æ"></a>è®¢é˜…è¿‡ç¨‹ç®€æ</h4><h6 id="æ­¥éª¤ä¸€ï¼š-RACSignal-createSignal-æ¥è·å¾—signal"><a href="#æ­¥éª¤ä¸€ï¼š-RACSignal-createSignal-æ¥è·å¾—signal" class="headerlink" title="æ­¥éª¤ä¸€ï¼š[RACSignal createSignal]æ¥è·å¾—signal"></a>æ­¥éª¤ä¸€ï¼š[RACSignal createSignal]æ¥è·å¾—signal</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">RACSignal.mä¸­ï¼š</span><br><span class="line">+ ( RACSignal *)createSignal:( RACDisposable * (^)( id &lt; RACSubscriber &gt; subscriber))didSubscribe &#123;</span><br><span class="line">  return [ RACDynamicSignal   createSignal :didSubscribe];</span><br><span class="line">&#125;</span><br><span class="line">RACDynamicSignal.mä¸­</span><br><span class="line">+ ( RACSignal *)createSignal:( RACDisposable * (^)( id &lt; RACSubscriber &gt; subscriber))didSubscribe &#123;</span><br><span class="line">  RACDynamicSignal *signal = [[ self   alloc ] init ];</span><br><span class="line"> signal-&gt; _didSubscribe = [didSubscribe copy ];</span><br><span class="line">  return [signal setNameWithFormat : @&quot;+createSignal:&quot; ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>[RACSignal createSignal]ä¼šè°ƒç”¨å­ç±»RACDynamicSignalçš„createSignalæ¥è¿”å›ä¸€ä¸ªsignalï¼Œ</p>
<p>å¹¶åœ¨signalä¸­ä¿å­˜åé¢çš„ didSubscribeè¿™ä¸ªblock</p>
<h6 id="æ­¥éª¤äºŒï¼š-signal-subscribeNext-æ¥è·å¾—subscriberï¼Œç„¶åè¿›è¡Œsubscription"><a href="#æ­¥éª¤äºŒï¼š-signal-subscribeNext-æ¥è·å¾—subscriberï¼Œç„¶åè¿›è¡Œsubscription" class="headerlink" title="æ­¥éª¤äºŒï¼š[signal subscribeNext:]æ¥è·å¾—subscriberï¼Œç„¶åè¿›è¡Œsubscription"></a>æ­¥éª¤äºŒï¼š[signal subscribeNext:]æ¥è·å¾—subscriberï¼Œç„¶åè¿›è¡Œsubscription</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">RACSignal.mä¸­ï¼š</span><br><span class="line">- ( RACDisposable *)subscribeNext:( void (^)( id x))nextBlock &#123;</span><br><span class="line">  RACSubscriber *o = [ RACSubscriber   subscriberWithNext :nextBlock error : NULL   completed : NULL ];</span><br><span class="line">  return [ self  subscribe :o];</span><br><span class="line">&#125;</span><br><span class="line">RACSubscriber.mä¸­ï¼š</span><br><span class="line"></span><br><span class="line">+ ( instancetype )subscriberWithNext:( void (^)( id x))next error:( void (^)( NSError *error))error completed:( void (^)( void ))completed &#123;</span><br><span class="line">  RACSubscriber *subscriber = [[ self   alloc ] init ];</span><br><span class="line"> subscriber-&gt; _next = [next copy ];</span><br><span class="line"> subscriber-&gt; _error = [error copy ];</span><br><span class="line"> subscriber-&gt; _completed = [completed copy ];</span><br><span class="line">  return subscriber;</span><br><span class="line">&#125;</span><br><span class="line">RACDynamicSignal.mä¸­ï¼š</span><br><span class="line">- (RACDisposable *)subscribe:(id&lt;RACSubscriber&gt;)subscriber &#123;</span><br><span class="line">    RACCompoundDisposable *disposable = [RACCompoundDisposable compoundDisposable];</span><br><span class="line">    subscriber = [[RACPassthroughSubscriber alloc] initWithSubscriber:subscriber signal:self disposable:disposable];</span><br><span class="line">    if (self.didSubscribe != NULL) &#123;</span><br><span class="line">        RACDisposable *schedulingDisposable = [RACScheduler.subscriptionScheduler schedule:^&#123;</span><br><span class="line">          	// å…¥å‚</span><br><span class="line">            RACDisposable *innerDisposable = self.didSubscribe(subscriber);</span><br><span class="line">            [disposable addDisposable:innerDisposable];</span><br><span class="line">        &#125;];</span><br><span class="line">        [disposable addDisposable:schedulingDisposable];</span><br><span class="line">    &#125;</span><br><span class="line">    return disposable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>[signal subscribeNext]å…ˆä¼šè·å¾—ä¸€ä¸ªsubscriberï¼Œè¿™ä¸ªsubscriberä¸­ä¿å­˜äº†nextBlockã€errorBlockã€completedBlock</li>
<li>ç”±äºsignalå…¶å®æ˜¯RACDynamicSignalç±»å‹çš„ï¼Œè¿™ä¸ª[self subscribe]æ–¹æ³•ä¼šè°ƒç”¨æ­¥éª¤ä¸€ä¸­ä¿å­˜çš„didSubscribeï¼ŒdidSubscribeçš„å‚æ•°å°±æ˜¯1ä¸­çš„subscriber</li>
</ol>
<h6 id="æ­¥éª¤ä¸‰ï¼šè¿›å…¥didSubscribeï¼Œé€šè¿‡-subscriber-sendNext-æ¥æ‰§è¡Œnext-block"><a href="#æ­¥éª¤ä¸‰ï¼šè¿›å…¥didSubscribeï¼Œé€šè¿‡-subscriber-sendNext-æ¥æ‰§è¡Œnext-block" class="headerlink" title="æ­¥éª¤ä¸‰ï¼šè¿›å…¥didSubscribeï¼Œé€šè¿‡[subscriber sendNext:]æ¥æ‰§è¡Œnext block"></a>æ­¥éª¤ä¸‰ï¼šè¿›å…¥didSubscribeï¼Œé€šè¿‡[subscriber sendNext:]æ¥æ‰§è¡Œnext block</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">RACSubscriber.mä¸­ï¼š</span><br><span class="line">- (void)sendNext:(id)value &#123;</span><br><span class="line">    @synchronized (self) &#123;</span><br><span class="line">        void (^nextBlock)(id) = [self.next copy];</span><br><span class="line">        if (nextBlock == nil) return;</span><br><span class="line">        nextBlock(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>didsubiscribeblockçš„[subscriber send:@1] çš„å®é™…æ‰§è¡Œè€…å°±æ˜¯ä¸Šä¸€æ­¥çš„é‚£ä¸ªsubscriber</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/01/swift-protocol/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/01/swift-protocol/" itemprop="url">
                  swift protocol
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-01T00:22:12+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/01/swift-tips/as/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/01/swift-tips/as/" itemprop="url">
                  swift protocol
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-01T00:22:12+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>as , as!, as?</p>
<p>The as keyword used to do both upcasts and downcasts:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Before Swift 1.2</span></span><br><span class="line"><span class="keyword">var</span> aView: <span class="type">UIView</span> = someView()</span><br><span class="line"><span class="keyword">var</span> object = aView <span class="keyword">as</span> <span class="type">NSObject</span> <span class="comment">// upcast </span></span><br><span class="line"><span class="keyword">var</span> specificView = aView <span class="keyword">as</span> <span class="type">UITableView</span> <span class="comment">// downcast</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">The upcast, going from a derived class to a base class, can be checked at compile time and will never fail.</span><br><span class="line"></span><br><span class="line">However, downcasts can fail since you canâ€™t always be sure about the specific class. If you have a UIView, itâ€™s possible itâ€™s a UITableView or maybe a UIButton. If your downcast goes to the correct type â€“ great! But if you happen to specify the wrong type, youâ€™ll get a runtime error and the app will crash.</span><br><span class="line"></span><br><span class="line">In Swift 1.2, downcasts must be either optional with as? or â€œforced failableâ€ with as!. If youâ€™re sure about the type, then you can force the cast with as! similar to how you would use an implicitly-unwrapped optional:</span><br></pre></td></tr></table></figure>
<p>// After Swift 1.2<br>var aView: UIView = someView()</p>
<p>var tableView = aView as! UITableView<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">The exclamation point makes it absolutely clear that you know what youâ€™re doing and that thereâ€™s a chance things will go terribly wrong if youâ€™ve accidentally mixed up your types!</span><br><span class="line"></span><br><span class="line">As always, as? with optional binding is the safest way to go:</span><br><span class="line"></span><br><span class="line">```swift</span><br><span class="line">// This isn&apos;t new to Swift 1.2, but is still the safest way</span><br><span class="line">var aView: UIView = someView()</span><br><span class="line"></span><br><span class="line">if let tableView = aView as? UITableView &#123;</span><br><span class="line">  // do something with tableView</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(<a href="http://stackoverflow.com/questions/29637974/whats-the-difference-between-as-as-and-as" target="_blank" rel="external">Whatâ€™s the difference between â€œas?â€, â€œas!â€, and â€œasâ€?</a>)[<a href="http://stackoverflow.com/questions/29637974/whats-the-difference-between-as-as-and-as" target="_blank" rel="external">http://stackoverflow.com/questions/29637974/whats-the-difference-between-as-as-and-as</a>]</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/01/swift-tips/è®¿é—®æƒé™æ§åˆ¶/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/01/swift-tips/è®¿é—®æƒé™æ§åˆ¶/" itemprop="url">
                  è®¿é—®çº§åˆ«æ§åˆ¶
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-01T00:22:12+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="åŸæœ‰è®¿é—®çº§åˆ«"><a href="#åŸæœ‰è®¿é—®çº§åˆ«" class="headerlink" title="åŸæœ‰è®¿é—®çº§åˆ«"></a>åŸæœ‰è®¿é—®çº§åˆ«</h4><ol>
<li>å…¬å¼€(public)</li>
<li>å†…éƒ¨(internal)</li>
<li>ç§æœ‰(private)</li>
</ol>
<blockquote>
<p>é»˜è®¤çš„è®¿é—®çº§åˆ«æ˜¯ <code>internal</code>ï¼Œè¿™æ„å‘³ç€æ­¤æˆå‘˜åªèƒ½åœ¨æ¨¡ç»„ (module) å†…å¯è§ã€‚å¦‚æœè¦è®©å…¶èƒ½å¤Ÿè¢«æ¨¡ç»„å¤–çš„æˆå‘˜è®¿é—®åˆ°çš„è¯ï¼Œé‚£ä¹ˆå°±è¦å°†å…¶è®¾ç½®ä¸º <code>public</code>ã€‚</p>
</blockquote>
<h4 id="private-åˆ°-fileprivate"><a href="#private-åˆ°-fileprivate" class="headerlink" title="private åˆ° fileprivate"></a>private åˆ° fileprivate</h4><p>fileprivate:åŒä¸€ä¸ªæ–‡ä»¶å†…å¯è§</p>
<p>private:åªèƒ½åœ¨å¯¹åº”ä½œç”¨åŸŸå†…è®¿é—®</p>
<blockquote>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å½“ä¸­æˆ‘åˆ›å»ºäº†ä¸€ä¸ªç±»ã€‚åœ¨è¿™ä¸ªç±»å½“ä¸­æˆ‘æ·»åŠ äº†ä¸€ä¸ª <code>private</code> çš„å±æ€§å’Œä¸€ä¸ª <code>private</code> çš„æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæˆå‘˜åªèƒ½å¤Ÿåœ¨è¿™ä¸ªç±»å½“ä¸­å¯è§ï¼Œå°±ç®—ä½äºç›¸åŒæ–‡ä»¶å†…ï¼Œå…¶ä»–ç±»ä¹Ÿæ˜¯æ— æ³•è®¿é—®è¿™ä¸¤ä¸ªæˆå‘˜çš„ã€‚å› æ­¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿‡å»ï¼Œè¿™ä¸¤ä¸ªæˆå‘˜åœ¨æ•´ä¸ªæ–‡ä»¶å½“ä¸­éƒ½å¯ä»¥è®¿é—®å¾—åˆ°ï¼›è€Œåˆ°äº†ç°åœ¨ï¼Œ<code>private</code> æ–¹æ³•åªèƒ½å¤Ÿåœ¨ç›¸åŒç±»å½“ä¸­å¯è§äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ˜”æ—¥çš„ <code>private</code> å˜æˆäº†ä»Šæ—¥çš„ <code>fileprivate</code>ï¼Œè€Œæ–°çš„è®¿é—®çº§åˆ«è®©æˆ‘ä»¬æœ‰äº†æ›´ç§æœ‰çš„è®¿é—®æƒé™ã€‚</p>
</blockquote>
<h4 id="public-åˆ°-open"><a href="#public-åˆ°-open" class="headerlink" title="public åˆ° open"></a>public åˆ° open</h4><p>open:ä¸€ä¸ªå…ƒç´ åœ¨å…¶ä»–moduleä¸­æ˜¯å¯ä»¥è¢«è®¿é—®å¹¶ä¸”å¯ä»¥è¢«override</p>
<p>public: ä¸€ä¸ªå…ƒç´ åœ¨å…¶ä»–moduleåªèƒ½è¢«è®¿é—®æ— æ³•è¢«ç»§æ‰¿</p>
<blockquote>
<p>openè§£å†³é—®é¢˜: ç»§æ‰¿æ˜¯ä¸€ä»¶å±é™©çš„äº‹æƒ…ã€‚å°¤å…¶å¯¹äºä¸€ä¸ªframeworkæˆ–è€…moduleçš„è®¾è®¡è€…è€Œè¨€ã€‚åœ¨è‡ªèº«çš„moduleå†…ï¼Œç±»æˆ–è€…å±æ€§å¯¹äºä½œè€…è€Œè¨€æ˜¯æ¸…æ™°çš„ï¼Œèƒ½å¦è¢«ç»§æ‰¿æˆ–è€…overrideéƒ½æ˜¯å¯æ§çš„ã€‚ä½†æ˜¯å¯¹äºä½¿ç”¨å®ƒçš„äººï¼Œä½œè€…æœ‰æ—¶ä¼šå¸Œæœ›ä¼ è¾¾å‡ºè¿™ä¸ªç±»æˆ–è€…å±æ€§ä¸åº”è¯¥è¢«ç»§æ‰¿æˆ–è€…ä¿®æ”¹ã€‚</p>
</blockquote>
<h4 id="æ–°çš„è®¿é—®çº§åˆ«"><a href="#æ–°çš„è®¿é—®çº§åˆ«" class="headerlink" title="æ–°çš„è®¿é—®çº§åˆ«"></a>æ–°çš„è®¿é—®çº§åˆ«</h4><ol>
<li>å®Œå…¨å…¬å¼€(open)</li>
<li>å…¬å¼€ï¼ˆpublicï¼‰</li>
<li>å†…éƒ¨(internal)</li>
<li>æ–‡ä»¶å¤–ç§æœ‰(fileprivate)</li>
<li>ç§æœ‰(private)</li>
</ol>
<p><a href="http://www.jianshu.com/p/604305a61e57" target="_blank" rel="external">Swift 3å¿…çœ‹ï¼šæ–°çš„è®¿é—®æ§åˆ¶fileprivateå’Œopen</a></p>
<p><a href="https://realm.io/cn/news/appbuilders-daniel-steinberg-whats-new-swift-3/" target="_blank" rel="external">Swift 3 æ–°ç‰¹æ€§ä¸€è§ˆ</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/01/swift-tips/escaping/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/01/swift-tips/escaping/" itemprop="url">
                  è®¿é—®çº§åˆ«æ§åˆ¶
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-01T00:22:12+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-Escaping-Closure"><a href="#1-Escaping-Closure" class="headerlink" title="1.Escaping Closure"></a>1.Escaping Closure</h4><blockquote>
<p> ä¸€ä¸ªé—­åŒ…ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”åœ¨å‡½æ•°returnä¹‹åæ‰è¢«å”¤èµ·æ‰§è¡Œ</p>
</blockquote>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/16-12-24/50262357-file_1482564200621_e595.png" alt=""></p>
<p>ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¼•èµ·é€ƒé€¸ï¼Ÿ</p>
<blockquote>
<ol>
<li>Asynchronous execution: If you execute the closure asynchronously on a dispatch queue, the queue will hold onto the closure for you. You have no idea <em>when</em> the closure will be executed and thereâ€™s no guarantee it will complete before the function returns.</li>
<li>Storage: Storing the closure to a global variable, property, or any other bit of storage that lives on past the function call means the closure has also escaped</li>
</ol>
</blockquote>
<p>swift3é—­åŒ…é»˜è®¤æ˜¯éé€ƒé€¸ï¼Œé€ƒé€¸é—­åŒ…éœ€è¦åŠ ä¸Š@escapingæ ‡è®°</p>
<p>é»˜è®¤éé€ƒé€¸çš„å¥½å¤„: </p>
<ol>
<li>æœ€æ˜æ˜¾çš„å¥½å¤„å°±æ˜¯ç¼–è¯‘å™¨ä¼˜åŒ–ä½ çš„ä»£ç çš„æ€§èƒ½å’Œèƒ½åŠ›ã€‚å¦‚æœç¼–è¯‘å™¨çŸ¥é“è¿™ä¸ªé—­åŒ…æ˜¯ä¸å¯é€ƒé€¸çš„ï¼Œå®ƒå¯ä»¥å…³æ³¨å†…å­˜ç®¡ç†çš„å…³é”®ç»†èŠ‚ã€‚</li>
<li>å¯ä»¥åœ¨ä¸å¯é€ƒé€¸é—­åŒ…é‡Œæ”¾å¿ƒçš„ä½¿ç”¨selfå…³é”®å­—ï¼Œå› ä¸ºè¿™ä¸ªé—­åŒ…æ€»æ˜¯åœ¨å‡½æ•°returnä¹‹å‰æ‰§è¡Œï¼Œä½ ä¸éœ€è¦å»ä½¿ç”¨ä¸€ä¸ªå¼±å¼•ç”¨å»å¼•ç”¨self.</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/01/swift-tips/anyobject/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/01/swift-tips/anyobject/" itemprop="url">
                  swift protocol
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-01T00:22:12+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h4><p>anyObject:Any å¯ä»¥ä»£è¡¨ structã€classã€func ç­‰ç­‰å‡ ä¹æ‰€æœ‰ç±»å‹</p>
<p>any : classå®ä¾‹</p>
<blockquote>
<p><code>AnyObject</code>æ˜¯<code>Any</code>çš„å­é›†</p>
</blockquote>
<p>swift 2</p>
<blockquote>
<p>é‚£ä¸ºä»€ä¹ˆä¹‹å‰æˆ‘ä»¬åœ¨ Swift 2  é‡Œå¯ä»¥ç”¨ [AnyObject] å£°æ˜æ•°ç»„ï¼Œå¹¶ä¸”åœ¨é‡Œé¢æ”¾ Intã€String ç­‰ struct ç±»å‹å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º Swift 2 ä¸­ï¼Œä¼šé’ˆå¯¹è¿™äº› Intã€String ç­‰ struct è¿›è¡Œä¸€ä¸ª Implicit Bridging Conversionsï¼Œåœ¨ Array é‡Œæ’å…¥ä»–ä»¬æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†å…¶ bridge åˆ° Objective-C çš„ NSNumberã€NSString ç­‰ç±»å‹ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å£°æ˜çš„ [AnyObject] é‡Œå¯ä»¥æ”¾ struct çš„åŸå› ã€‚</p>
</blockquote>
<p><a href="https://zhuanlan.zhihu.com/p/22584349" target="_blank" rel="external">é€‚é… Swift 3 çš„ä¸€ç‚¹å°ç»éªŒå’Œå‘</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/05/01/swift-tips/swift-init/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="æ‰˜å°¼çš„å¼€å‘ç¬”è®°">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="æ‰˜å°¼çš„å¼€å‘ç¬”è®°" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/01/swift-tips/swift-init/" itemprop="url">
                  initæ–¹æ³•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-01T00:22:12+08:00">
                2016-05
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://wiki.jikexueyuan.com/project/swift/chapter2/14_Initialization.html" target="_blank" rel="external">æ„é€ è¿‡ç¨‹</a></p>
<ul>
<li>init </li>
</ul>
<p>æ„é€ è¿‡ç¨‹: ä½¿ç”¨ç±»ï¼Œç»“æ„ä½“ï¼Œçš„å®ä¾‹ä¹‹å‰çš„å‡†å¤‡è¿‡ç¨‹ï¼Œ</p>
<ol>
<li>è®¾ç½®å®ä¾‹å˜é‡çš„åˆå§‹å€¼ã€‚</li>
<li>å…¶ä»–ä¸€äº›åˆå§‹åŒ–å·¥ä½œ</li>
</ol>
<p>è§„åˆ™: </p>
<ul>
<li>æŒ‡å®šæ„é€ å™¨å¿…é¡»æ€»æ˜¯<em>å‘ä¸Š</em>ä»£ç†</li>
<li>ä¾¿åˆ©æ„é€ å™¨å¿…é¡»æ€»æ˜¯<em>æ¨ªå‘</em>ä»£ç†æŒ‡å®šæ„é€ å™¨è°ƒç”¨çˆ¶äº²æŒ‡å®šæ„é€ å™¨</li>
</ul>
<h4 id="ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹"><a href="#ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹" class="headerlink" title="ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹"></a>ä¸¤æ®µå¼æ„é€ è¿‡ç¨‹</h4><ol>
<li><p>æ¯ä¸ªå­˜å‚¨å±æ€§æŒ‡å®šä¸€ä¸ªåˆå§‹å€¼</p>
</li>
<li><p>è¿›ä¸€æ­¥å®šåˆ¶å­˜å‚¨å±æ€§</p>
<blockquote>
<p>vs object-c: object-cå¸®æˆ‘ä»¬æŒ‡å®šäº†åˆå§‹å€¼(nil æˆ–è€… 0)</p>
</blockquote>
</li>
</ol>
<h4 id="æ„é€ å‡½æ•°çš„é‡è½½-é‡å†™"><a href="#æ„é€ å‡½æ•°çš„é‡è½½-é‡å†™" class="headerlink" title="æ„é€ å‡½æ•°çš„é‡è½½,é‡å†™"></a>æ„é€ å‡½æ•°çš„é‡è½½,é‡å†™</h4><p>é‡è½½: overload: å‚æ•°åˆ—è¡¨: ä¸ä¸€æ ·ï¼Œè¿”å›åˆ—è¡¨ï¼š æ— æ‰€è°“</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; ä¸€æ—¦é‡è½½æ„é€ å‡½æ•°  é»˜è®¤çš„æ„é€ å‡½æ•°å°±ä¸èƒ½è®¿é—®</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>é‡å†™ override :å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ä¸€è‡´</p>
<h4 id="æ„é€ å™¨çš„ç»§æ‰¿"><a href="#æ„é€ å™¨çš„ç»§æ‰¿" class="headerlink" title="æ„é€ å™¨çš„ç»§æ‰¿:"></a>æ„é€ å™¨çš„ç»§æ‰¿:</h4><p>å­ç±»é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨</p>
<p>1.å¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•æŒ‡å®šæ„é€ å™¨ï¼Œå®ƒå°†è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨</p>
<ol>
<li>å¦‚æœå­ç±»æä¾›äº†æ‰€æœ‰çˆ¶ç±»æŒ‡å®šæ„é€ å™¨çš„å®ç°â€”â€”æ— è®ºæ˜¯é€šè¿‡è§„åˆ™ 1 ç»§æ‰¿è¿‡æ¥çš„ï¼Œè¿˜æ˜¯æä¾›äº†è‡ªå®šä¹‰å®ç°â€”â€”å®ƒå°†è‡ªåŠ¨ç»§æ‰¿æ‰€æœ‰çˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨ã€‚</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class wheel: UIControl &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>But this code doesnâ€™t:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class wheel: UIControl &#123;</span><br><span class="line">override init(frame: CGRect) &#123;</span><br><span class="line">    super.init(frame: frame)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It shows error â€œ<em>required initializer init must be provided in subclass of UIControl</em>â€œ when I override init(frame: CGRect) but not init(coder aDecoder: NSCoder)</p>
<p>Look. According to <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html" target="_blank" rel="external">Apple documentations</a> Swift subclasses do not inherit their superclass initializers by default. They are inherited only in certain circumstances, one of which is: If your subclass doesnâ€™t define any designated initializers, it automatically inherits all of its superclass designated initializers. So if youâ€™re not implementing <code>init(frame: CGRect)</code> all super initializers are inherited.</p>
<p>Also UIView adopts NSCoding protocol, which requires an <code>init(coder:)</code> initializer. So if youâ€™re implementing <code>init(frame: CGRect)</code>, your class is no longer inheriting super initializers. So you must implement that one too:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder decoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>?(coder: decoder)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¯å¤±è´¥çš„æ„é€ å™¨"><a href="#å¯å¤±è´¥çš„æ„é€ å™¨" class="headerlink" title="å¯å¤±è´¥çš„æ„é€ å™¨"></a>å¯å¤±è´¥çš„æ„é€ å™¨</h4><p>å¦‚æœä¸€ä¸ªç±»ã€ç»“æ„ä½“æˆ–æšä¸¾ç±»å‹çš„å¯¹è±¡ï¼Œåœ¨æ„é€ è¿‡ç¨‹ä¸­æœ‰å¯èƒ½å¤±è´¥ï¼Œåˆ™ä¸ºå…¶å®šä¹‰ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨ã€‚è¿™é‡Œæ‰€æŒ‡çš„â€œå¤±è´¥â€æ˜¯æŒ‡ï¼Œå¦‚ç»™æ„é€ å™¨ä¼ å…¥æ— æ•ˆçš„å‚æ•°å€¼ï¼Œæˆ–ç¼ºå°‘æŸç§æ‰€éœ€çš„å¤–éƒ¨èµ„æºï¼Œåˆæˆ–æ˜¯ä¸æ»¡è¶³æŸç§å¿…è¦çš„æ¡ä»¶ç­‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> species: <span class="type">String</span></span><br><span class="line">    <span class="keyword">init</span>?(species: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> species.isEmpty &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">        <span class="keyword">self</span>.species = species</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="tony2009" />
          <p class="site-author-name" itemprop="name">tony2009</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">83</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tony2009</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  




  
  

  

  

  

  


</body>
</html>
