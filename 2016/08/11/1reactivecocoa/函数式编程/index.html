<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="MVC

Model - The Data model our view is managing
View - The User Interface on screen consisting of things such as text fields, buttons, etc.
Controller - The Controller in MVC exists to decouple the v">
<meta property="og:type" content="article">
<meta property="og:title" content="MVVM">
<meta property="og:url" content="atony2099.github.io/2016/08/11/1reactivecocoa/函数式编程/index.html">
<meta property="og:site_name" content="托尼的开发笔记">
<meta property="og:description" content="MVC

Model - The Data model our view is managing
View - The User Interface on screen consisting of things such as text fields, buttons, etc.
Controller - The Controller in MVC exists to decouple the v">
<meta property="og:image" content="http://i1.piimg.com/4851/9683ef5137c09930.png">
<meta property="og:image" content="http://3.bp.blogspot.com/-0bs30LLV-KA/UTkczxGNlyI/AAAAAAAABJw/MpjCKhhb49s/s320/Screen+Shot+2013-03-07+at+5.02.20+PM.png">
<meta property="og:image" content="http://limboy.me/image/FRP_ReactiveCocoa_large.png">
<meta property="og:image" content="http://zhangbuhuai.com/reactive-cocoa-part-2/reduce-each@2x.png">
<meta property="og:updated_time" content="2017-01-19T06:38:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MVVM">
<meta name="twitter:description" content="MVC

Model - The Data model our view is managing
View - The User Interface on screen consisting of things such as text fields, buttons, etc.
Controller - The Controller in MVC exists to decouple the v">
<meta name="twitter:image" content="http://i1.piimg.com/4851/9683ef5137c09930.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="atony2099.github.io/2016/08/11/1reactivecocoa/函数式编程/"/>





  <title> MVVM | 托尼的开发笔记 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">托尼的开发笔记</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/08/11/1reactivecocoa/函数式编程/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                MVVM
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-11T23:38:06+08:00">
                2016-08
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h4 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h4><p><img src="http://i1.piimg.com/4851/9683ef5137c09930.png" alt=""></p>
<ul>
<li>Model - The Data model our view is managing</li>
<li>View - The User Interface on screen consisting of things such as text fields, buttons, etc.</li>
<li>Controller - The Controller in MVC exists to decouple the view from the model.</li>
</ul>
<p><img src="http://3.bp.blogspot.com/-0bs30LLV-KA/UTkczxGNlyI/AAAAAAAABJw/MpjCKhhb49s/s320/Screen+Shot+2013-03-07+at+5.02.20+PM.png" alt=""></p>
<p><img src="http://limboy.me/image/FRP_ReactiveCocoa_large.png" alt=""></p>
<p>MVVM: </p>
<p>viewModel: </p>
<pre><code>1. the thing that our user interface binds its properties to
</code></pre><ol>
<li>The View Model should not know anything about the UI that will bind to it</li>
</ol>
<p>ReactiveCocoa思考: </p>
<ol>
<li><p>相关思想：</p>
<blockquote>
<p><a href="http://en.wikipedia.org/wiki/Functional_reactive_programming" target="_blank" rel="external">Functional Reactive Programming</a> (FRP) is a way of thinking about software in terms of transforming inputs to produce output continuously over time. </p>
<p>Programs take input and produce output. The output is the result of doing something with the input. Input, transform, output, done.</p>
<p>The input is all the sources of action for your app. It’s taps. It’s keyboard events. It’s timer triggers, GPS events, and web service responses. These things are all inputs. They all feed into the app, and the app combines them all in some way to produce a result: the output.</p>
<p>The output is often a change in the app’s UI. A switch is toggled or a list gets a new item. Or it could be more than that. It could be a new file on the device’s disk, or it could be an API request. These things are the outputs of the app.</p>
<p>But unlike the classic input/output design, this input and output happens more than once. It’s not just a single input → work → output—the cycle continues while the app is open. <strong>The app is always consuming inputs and producing outputs based on them</strong></p>
</blockquote>
</li>
</ol>
<ol>
<li>输入—-&gt;&gt; 输出</li>
</ol>
<h4 id="信号的处理"><a href="#信号的处理" class="headerlink" title="信号的处理"></a>信号的处理</h4><ol>
<li><p>reduceEach： — </p>
<p><img src="http://zhangbuhuai.com/reactive-cocoa-part-2/reduce-each@2x.png" alt=""></p>
<p>​</p>
</li>
</ol>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p>flattenMap: 根据前一个信号的参数创建一个新的信号</p>
<p>-flattenMap: is used to transform each of a stream’s values into a new stream.</p>
<p>map: 创建一个新的信号，输出值是block(value);</p>
<blockquote>
<p>Use the <code>map</code> operator when you want to intercept whenever a Signal sends a value and have the opportunity to alter that value or send a completely different value. A way to think about this is a production line that passes partially completed products down the line. There are various points on the production line where a line operator will pick the product and screw something in or alter it in some way.</p>
<p><code>Flatten map</code> is for when you might want to inject another Signal into some other signal that depends on the initial signal. You can therefor use the initial signal to effect or determine the signal returned. This is one of the ways you can take one or more signals and join them in a way that results in one signal. Hence the terminology: flatten. The other slightly different ways you can do this in RAC is <code>merge:</code> and <code>switchToLatest()</code> to name a few. Imaging you had a signal that did a network fetch based on a particular search query. Then imagine you had another signal for text typed into a search box. In order to do a search request based on the current search query in the searchText signal you could use a flatten map.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">self</span>.searchTextSignal.flattenMap(&#123;(object: <span class="type">AnyObject</span>!) -&gt; <span class="type">RACSignal</span>! <span class="keyword">in</span></span><br><span class="line">&gt;     <span class="keyword">if</span> <span class="keyword">let</span> searchQuery: <span class="type">String</span> = object <span class="keyword">as</span>? <span class="type">String</span> &#123;</span><br><span class="line">&gt;         <span class="keyword">return</span> <span class="keyword">self</span>.networkFetchSignal(query: searchQuery)</span><br><span class="line">&gt;     &#125;</span><br><span class="line">&gt;     <span class="keyword">return</span> <span class="type">RACSignal</span>.empty()</span><br><span class="line">&gt; &#125;).subscribeNext(&#123;(object: <span class="type">AnyObject</span>) -&gt; <span class="type">Void</span> <span class="keyword">in</span> </span><br><span class="line">&gt;    <span class="comment">//the results</span></span><br><span class="line">&gt; &#125;)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="RACCommmand"><a href="#RACCommmand" class="headerlink" title="RACCommmand"></a>RACCommmand</h4><ol>
<li><p>怎么用</p>
<p>allowsConcurrentExecution:  Whether the command allows multiple executions to proceed concurrently.</p>
<p>​</p>
<p>​</p>
</li>
</ol>
<p>switchLast:  get  the lastest signals</p>
<p>—-signal of signals(信号的信号)  : 信号发出的数据是信号</p>
<h3 id="Racsubject"><a href="#Racsubject" class="headerlink" title="#Racsubject"></a>#Racsubject</h3><blockquote>
<p>/// A subject can be thought of as a signal that you can manually control by<br>/// sending next, completed, and error.<br>///<br>/// They’re most helpful in bridging the non-RAC world to RAC, since they let you<br>/// manually control the sending of events.</p>
</blockquote>
<h4 id="parm-mark-RAC"><a href="#parm-mark-RAC" class="headerlink" title="parm mark - RAC"></a>parm mark - RAC</h4><blockquote>
<p>Make sure to <code>@strongify(self)</code> when using this macro within a block! The<br>/// macro will <em>always</em> reference <code>self</code>, which can silently introduce a retain</p>
</blockquote>
<p><a href="http://mrpeak.cn/blog/functional/" target="_blank" rel="external">iOS与函数式编程</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/08/11/数据存储/断言副本 2/" rel="next" title="断言">
                <i class="fa fa-chevron-left"></i> 断言
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/08/11/数据存储/NSCoding/" rel="prev" title="NSCoding">
                NSCoding <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="tony2009" />
          <p class="site-author-name" itemprop="name">tony2009</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#MVC"><span class="nav-number">1.</span> <span class="nav-text">MVC</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#信号的处理"><span class="nav-number">2.</span> <span class="nav-text">信号的处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Map"><span class="nav-number">3.</span> <span class="nav-text">Map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RACCommmand"><span class="nav-number">4.</span> <span class="nav-text">RACCommmand</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Racsubject"><span class="nav-number"></span> <span class="nav-text">#Racsubject</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#parm-mark-RAC"><span class="nav-number">1.</span> <span class="nav-text">parm mark - RAC</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tony2009</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  
      <!-- UY BEGIN -->
      <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid="></script>
      <!-- UY END -->
  




  
  

  

  

  

  


</body>
</html>
