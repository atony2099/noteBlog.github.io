<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="托尼的开发笔记">
<meta property="og:url" content="atony2099.github.io/index.html">
<meta property="og:site_name" content="托尼的开发笔记">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="托尼的开发笔记">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="atony2099.github.io/"/>





  <title> 托尼的开发笔记 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">托尼的开发笔记</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/12/19/1HTTP/TCP:IP协议/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/19/1HTTP/TCP:IP协议/" itemprop="url">
                  TCP/IP
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-19T17:14:18+08:00">
                2016-12
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="TCP-IP协议族"><a href="#TCP-IP协议族" class="headerlink" title="TCP/IP协议族"></a>TCP/IP协议族</h4><blockquote>
<p>计算机与网络设备要相互通信，双方就必须基于相同的方法。比如，如何探测到通信目标、由哪一边先发起通信、使用哪种语言进行通信、怎样结束通信等规则都需要事先确定。不同的硬件、操作系统之间的通信，所有的这一切都需要一种规则。而我们就把这种规则称为协议（protocol）。</p>
</blockquote>
<p>我们把互联网相关的协议的集合称作TCP/IP协议。</p>
<blockquote>
<p> 批阅:TCP/IP协议就是为了互联网设备之间相互通信，规定的一系列的集合的总称。</p>
</blockquote>
<h4 id="TCP-IP的分层"><a href="#TCP-IP的分层" class="headerlink" title="TCP/IP的分层"></a>TCP/IP的分层</h4><blockquote>
<p>批阅: 为什么需要分层？</p>
<p>分层是为了更好的解耦，各个部分独立设计，互不影响</p>
</blockquote>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-2-3/26758168-file_1486133192003_15c58.png" alt=""></p>
<blockquote>
<p>OSI只是一个概念模型，TCP/IP是现实中我们在主要使用的网络协议。可以理解为tcp/ip是在osi的基础上实现了的网络协议</p>
<p>TCP/IP对数据链路层和物理层未做定义，所以有时候会是四层或者五层。</p>
</blockquote>
<p><strong>一个常见的请求过程</strong></p>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-2-3/31702148-file_1486137043794_780f.png" alt=""></p>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-2-3/67401161-file_1486137043953_2a8b.png" alt=""></p>
<h5 id="分层详情"><a href="#分层详情" class="headerlink" title="分层详情"></a>分层详情</h5><p>参见 <a href="http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html" target="_blank" rel="external">互联网协议入门（一）</a></p>
<p><img src="http://image.beekka.com/blog/201206/bg2012061106.png" alt=""></p>
<blockquote>
<p>物理层: 规定了通信设备的规格</p>
<p>链路层: 规定了电信号的分组封装方式。首部包含目标设备mac地址(网卡的唯一编号)</p>
<p>IP层: 在链路层的基础上规定了ip地址，从而能在不同子网络之间进行传输</p>
<p>传输层:建立端口到端口通信，从而能在不同的应用程序之间进行通信</p>
<p>应用层: 如何对原始数据进行包装。</p>
</blockquote>
<p>一个完整的请求过程: </p>
<ol>
<li><p>我们假定这个部分的长度为4960字节，它会被嵌在TCP数据包之中。</p>
</li>
<li><p>TCP数据包需要设置端口，接收方（Google）的HTTP端口默认是80，发送方（本机）的端口是一个随机生成的1024-65535之间的整数，假定为51775。</p>
<p>TCP数据包的标头长度为20字节，加上嵌入HTTP的数据包，总长度变为4980字节。</p>
</li>
<li><p>然后，TCP数据包再嵌入IP数据包。IP数据包需要设置双方的IP地址，这是已知的，发送方是192.168.1.100（本机），接收方是172.194.72.105（Google）。</p>
<p>IP数据包的标头长度为20字节，加上嵌入的TCP数据包，总长度变为5000字节。</p>
</li>
<li><p>最后，IP数据包嵌入以太网数据包。以太网数据包需要设置双方的MAC地址，发送方为本机的网卡MAC地址，接收方为网关192.168.1.1的MAC地址（通过ARP协议得到）。</p>
<p>以太网数据包的数据部分，最大长度为1500字节，而现在的IP数据包长度为5000字节。因此，IP数据包必须分割成四个包。因为每个包都有自己的IP标头（20字节），所以四个包的IP数据包的长度分别为1500、1500、1500、560。</p>
</li>
<li><p>经过多个网关的转发，Google的服务器172.194.72.105，收到了这四个以太网数据包。</p>
<p>根据IP标头的序号，Google将四个包拼起来，取出完整的TCP数据包，然后读出里面的”HTTP请求”，接着做出”HTTP响应”，再用TCP协议发回来。</p>
</li>
</ol>
<blockquote>
<p> 发送: 每经过一层在原来的包基础上加上该层的header。</p>
<p> 接收方，每经过一层删除该层header。</p>
<p> 应用层: 数据封装</p>
<p> 传输层: 设置端口号,三次握手建立连接</p>
<p> 网络层: 设置ip地址，</p>
<p> 链路层：设置mac地址，数据分割成一定大小的数据包。</p>
<p> 经过物理层转发到达接受方</p>
</blockquote>
<h4 id="http协议"><a href="#http协议" class="headerlink" title="http协议"></a>http协议</h4><ul>
<li><p>http报文： 应用程序之间发送数据块</p>
</li>
<li><p>http报文的组成</p>
<ul>
<li><p>起始行 start line</p>
<blockquote>
<p>请求行</p>
<ul>
<li>请求url</li>
<li>请求方法：get，post，put，delete</li>
</ul>
<p>响应行:</p>
<ul>
<li><p>响应码，</p>
<ul>
<li>| 类别   | 原因短语                   |               |<br>| —- | ———————- | ————- |<br>| 1XX  | Informational(信息性状态码)  | 接收的请求正在处理     |<br>| 2XX  | Success（成功状态码）         | 请求正常处理完毕      |<br>| 3XX  | Redirection（重定向状态码）    | 需要进行附加操作以完成请求 |<br>| 4XX  | Client Error（客户端错误状态码） | 服务器无法处理请求     |<br>| 5XX  | Server Error（服务器错误状态码） | 服务器处理请求出错     |</li>
</ul>
</li>
<li><p>错误信息</p>
</li>
</ul>
</blockquote>
<p>​</p>
</li>
<li><p>实体的主体: http实际要传输的内容</p>
</li>
<li><p>首部:对报文主题信息的进一步说明</p>
<ul>
<li><p>通用首部:不管是响应还是请求报文，都会包含的基本信息</p>
<p><img src="http://images2015.cnblogs.com/blog/740839/201612/740839-20161220150137995-2033423887.png" alt=""></p>
</li>
<li><p>响应首部:提供额外的信息，比如谁在发送响应，响应者功能</p>
</li>
<li><p>实体首部</p>
<blockquote>
<p>用来描述实体的主体</p>
<p>包括主体的编码，主体的长度，主体的位置</p>
</blockquote>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-2-3/87588181-file_1486111785330_12ebb.png" alt=""></p>
</li>
<li><p>请求首部</p>
</li>
<li><p>请求首部说明是谁或什么在发送请求、请求源自何处，或者客户端的喜好及能力。服务器可以根据请求首部给出的客户端信息，试着为客户端提供更好的响应</p>
<ul>
<li><p>信息性首部</p>
<p><img src="http://images2015.cnblogs.com/blog/740839/201612/740839-20161220210102807-1073006005.png" alt=""></p>
</li>
<li><p>accept 首部：Accept首部为客户端提供了一种将其喜好和能力告知服务器的方式，</p>
<p><img src="http://images2015.cnblogs.com/blog/740839/201612/740839-20161220211737839-554697774.png" alt=""></p>
<blockquote>
<p> 文本文件</p>
<p> text/html, text/plain, text/css …application/xhtml+xml, application/xml …</p>
<p> 图片文件</p>
<p> image/jpeg, image/gif, image/png …</p>
<p> 视频文件</p>
<p> video/mpeg, video/quicktime …</p>
<p> 应用程序使用的二进制文件</p>
<p> application/octet-stream, application/zip ..　</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; unacceptable content-type: text/html</span><br><span class="line">&gt;  出现该错误的原因: </span><br><span class="line">&gt; AFN默认设置http 请求报文的accept字段默认不处理text/html。</span><br><span class="line">&gt;   服务端的不规范操作，虽然返回的是json数据，但是没有指定content-type为text/json，返回还是html。导致客户端误认为是text/html格式数据而无法处理。</span><br><span class="line">&gt;   解决方法:手动设置accepe字段接受text/html格式</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>条件请求首部:为请求加上某些限制</p>
<p><img src="http://images2015.cnblogs.com/blog/740839/201612/740839-20161220214937745-92052732.png" alt=""></p>
</li>
<li><p>安全请求首部:认证机制，对请求就是质询/响应认证</p>
<p><img src="http://images2015.cnblogs.com/blog/740839/201612/740839-20161220223424932-1363583011.png" alt=""></p>
<p>​</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="tcp协议"><a href="#tcp协议" class="headerlink" title="tcp协议"></a>tcp协议</h4><ul>
<li><p>三次握手</p>
<p><img src="http://img.my.csdn.net/uploads/201210/23/1350985085_3123.jpg" alt=""></p>
</li>
</ul>
<ol>
<li>客户端发送syn报文，(sequece number = n)</li>
<li>服务端发送ACK和SYN报文(sequece number = z,acknowledge   number = n+1)</li>
<li>客户端发送ACK报文 (acknowledge   number = z + 1)</li>
</ol>
<blockquote>
<p> 三次握手是建立可靠连接的必要保证，前两次握手， 保证了服务端能接受到客户端信息并能正确应答，后两次握手，保证客户端能接受到服务端信息并正确应答‘</p>
</blockquote>
<ul>
<li><p>四次挥手</p>
<p><img src="http://img.my.csdn.net/uploads/201210/23/1350990937_5362.jpg" alt=""></p>
<p>四次挥手</p>
<ol>
<li>客户端发送FIN报文段，sequence nuber = x，</li>
<li>服务端发送一个ACK报文段，acknowledge number = x + 1.</li>
<li>服务端发送一个FIN报文段，sequence number = u</li>
<li>客户端发送一个ACK报文，acknowledge number = x + 1.</li>
</ol>
</li>
</ul>
<ul>
<li><p>为什么三次握手，四次挥手</p>
<p>  握手:服务端搜到syn报文的时候，把ack和syn报文放在一起发送给客户端</p>
<p>  挥手: 服务端收到fin报文的时候，仅仅表示客户端要关闭连接，服务端 未必要关闭连接，因此它的fin报文和ack报文要分开发送</p>
</li>
</ul>
<h4 id="DNS解析"><a href="#DNS解析" class="headerlink" title="DNS解析"></a>DNS解析</h4><p>做什么: 将主机名和域名转换为IP地址的工作。简单点来说，DNS就是一位“翻译官”。</p>
<p>第一步：客户机提出域名解析请求,并将该请求发送给本地的域名服务器。<br>第二步：当本地的域名服务器收到请求后,就先查询本地的缓存,如果有该纪录项,则本地的域名服务器就直接把查询的结果返回。<br>第三步：如果本地的缓存中没有该纪录,则本地域名服务器就直接把请求发给根域名服务器,然后根域名服务器再返回给本地域名服务器一个所查询域(根的子域)的主域名服务器的地址。<br>第四步：本地服务器再向上一步返回的域名服务器发送请求,然后接受请求的服务器查询自己的缓存,如果没有该纪录,则返回相关的下级的域名服务器的地址。<br>第五步：重复第四步,直到找到正确的纪录。<br>第六步：本地域名服务器把返回的结果保存到缓存,以备下一次使用,同时还将结果返回给客户机。</p>
<p><img src="http://ohbzayk4i.bkt.clouddn.com/17-2-3/67217159-file_1486125594106_e922.jpg" alt=""></p>
<h4 id="socket"><a href="#socket" class="headerlink" title="socket"></a>socket</h4><p><img src="http://ohbzayk4i.bkt.clouddn.com/17-2-3/21050074-file_1486109526818_13600.png" alt=""></p>
<ol>
<li>Socket是对TCP/IP协议的封装，Socket本身并不是协议，而是一个调用接口（API），</li>
<li>通过Socket，我们才能使用TCP/IP协议。</li>
</ol>
<p><a href="http://www.techug.com/post/https-ssl-tls.html" target="_blank" rel="external">聊聊HTTPS和SSL/TLS协议</a></p>
<p><a href="https://www.chen-hao.com.cn/DNS%E8%A7%A3%E6%9E%90%E5%8E%9F%E7%90%86.html" target="_blank" rel="external">DNS解析原理</a></p>
<p><a href="http://www.genshuixue.com/i-cxy/p/15290422" target="_blank" rel="external">前端学HTTP之报文首部</a></p>
<p><a href="http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html" target="_blank" rel="external">互联网协议入门（一)</a></p>
<p><a href="http://www.codeceo.com/article/tcp-ip-osi-model.html" target="_blank" rel="external">TCP/IP 协议栈及 OSI 参考模型详解</a></p>
<p><a href="http://blog.csdn.net/oney139/article/details/8103223" target="_blank" rel="external">TCP三次握手详解及释放连接过程</a></p>
<p>-</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/12/11/1reactivecocoa/冷热信号/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/11/1reactivecocoa/冷热信号/" itemprop="url">
                  冷热信号
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-11T13:33:06+08:00">
                2016-12
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="冷热信号"><a href="#冷热信号" class="headerlink" title="冷热信号"></a>冷热信号</h4><h5 id="热信号-直播-保持状态"><a href="#热信号-直播-保持状态" class="headerlink" title="热信号 直播  保持状态"></a>热信号 直播  保持状态</h5><p>主动推送消息。</p>
<p><strong>方法只执行一遍，只有一次副作用</strong></p>
<h5 id="冷信号-点播，不保持状态"><a href="#冷信号-点播，不保持状态" class="headerlink" title="冷信号 点播，不保持状态"></a>冷信号 点播，不保持状态</h5><p>被动的，需要主动订阅。</p>
<p>一个剧本，一旦有人说开拍，他就执行一遍。</p>
<blockquote>
<p>方法执行多次，有多次副作用</p>
</blockquote>
<h4 id=""><a href="#" class="headerlink" title=" "></a> </h4><p>RACSignal 排除RACSubject都是冷信号</p>
<p>RACSubject 是热信号</p>
<p>hot signal</p>
<p><img src="http://tech.meituan.com/img/talk-about-reactivecocoas-cold-signal-and-hot-signal/1.png" alt=""></p>
<p>code signal </p>
<p><img src="http://tech.meituan.com/img/talk-about-reactivecocoas-cold-signal-and-hot-signal/2.png" alt=""></p>
<p><img src="http://tech.meituan.com/img/talk-about-reactivecocoas-cold-signal-and-hot-signal/3.png" alt=""></p>
<p>subject / replaysubject  </p>
<h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>使用subject订阅原始信号， 并让其他订阅者订阅这个Subject，这个Subject就是热信号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">   RACSignal *signal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123;</span><br><span class="line">       // didSubscribeblock中的代码都统称为副作用。</span><br><span class="line">       NSLog(@&quot;hello&quot;);</span><br><span class="line">       </span><br><span class="line">       [[RACScheduler mainThreadScheduler] afterDelay:1 schedule:^&#123;</span><br><span class="line">          </span><br><span class="line">           // 发送信号</span><br><span class="line">           [subscriber sendNext:@&quot;1&quot;];</span><br><span class="line">       &#125;];</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">       [[RACScheduler mainThreadScheduler] afterDelay:2 schedule:^&#123;</span><br><span class="line">           </span><br><span class="line">           // 发送信号</span><br><span class="line">           [subscriber sendNext:@&quot;2&quot;];</span><br><span class="line">       &#125;];</span><br><span class="line"></span><br><span class="line">       [[RACScheduler mainThreadScheduler] afterDelay:3 schedule:^&#123;</span><br><span class="line">           </span><br><span class="line">           // 发送信号</span><br><span class="line">           [subscriber sendNext:@&quot;3&quot;];</span><br><span class="line">       &#125;];</span><br><span class="line">       return nil;</span><br><span class="line">   &#125;];</span><br><span class="line">//---方案 (1)</span><br><span class="line">//Multicasts the signal to a RACReplaySubject of unlimited capacity, and lazily connects to the resulting RACMulticastConnection.</span><br><span class="line">&#125;]replayLazily];</span><br><span class="line"></span><br><span class="line">   [[RACScheduler mainThreadScheduler] afterDelay:2 schedule:^&#123;</span><br><span class="line">       [signal subscribeNext:^(id x) &#123;</span><br><span class="line">           NSLog(@&quot;schedul-%@&quot;, x);</span><br><span class="line">    &#125;];</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">// 方案二</span><br><span class="line">   RACMulticastConnection *connection = [signal publish];</span><br><span class="line">   RACSignal *hotSignal = connection.signal;</span><br><span class="line">   [connection connect];</span><br><span class="line">   [[RACScheduler mainThreadScheduler] afterDelay:2 schedule:^&#123;</span><br><span class="line">       [hotSignal subscribeNext:^(id x) &#123;</span><br><span class="line">           NSLog(@&quot;schedul-%@&quot;, x);</span><br><span class="line">       &#125;];</span><br><span class="line">   &#125;];</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/10/29/1语法特性/copy/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/29/1语法特性/copy/" itemprop="url">
                  copy
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-29T19:48:20+08:00">
                2016-10
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>文章来源: <a href="http://ios.jobbole.com/91611/?utm_source=blog.jobbole.com&amp;utm_medium=relatedPosts" target="_blank" rel="external">Objective-C copy，看我就够了</a></p>
<h4 id="copy-使用场景"><a href="#copy-使用场景" class="headerlink" title="copy 使用场景"></a>copy 使用场景</h4><blockquote>
<p> Copying is done mostly so the copy can be modified or moved, or the current value preserved. If either of these is unneeded, a reference to the original data is sufficient and more efficient, as no copying occurs.</p>
<p>In Objective-C, the methods copy and mutableCopy are inherited by all objects and intended for performing copies; the latter is for creating a mutable type of the original object. These methods in turn call the copyWithZone and mutableCopyWithZone methods, respectively, to perform the copying. An object must implement the corresponding copyWithZone method to be copyable.</p>
</blockquote>
<h4 id="deep-copy-amp-amp-shallow-copy"><a href="#deep-copy-amp-amp-shallow-copy" class="headerlink" title="deep copy &amp;&amp; shallow copy"></a>deep copy &amp;&amp; shallow copy</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://developer.apple.com/library/content/documentation/General/Conceptual/DevPedia-CocoaCore/Art/object_copying_2x.png" alt=""></h4><ul>
<li>浅复制：只复制对象的指针</li>
<li>深复制:  会创建一个新的对象</li>
</ul>
<h4 id="Foundation框架非集合类的copy"><a href="#Foundation框架非集合类的copy" class="headerlink" title="Foundation框架非集合类的copy"></a>Foundation框架非集合类的copy</h4><ul>
<li>对immutableObject，即不可变对象，执行copy，会得到不可变对象，并且是浅copy。</li>
<li>对immutableObject，即不可变对象，执行mutableCopy，会得到可变对象，并且是深copy。</li>
<li>对mutableObject，即可变对象，执行copy，会得到不可变对象，并且是深copy。</li>
<li>对mutableObject，即可变对象，执行mutableCopy，会得到可变对象，并且是深copy。</li>
</ul>
<h4 id="自定义类的copy"><a href="#自定义类的copy" class="headerlink" title="自定义类的copy"></a>自定义类的copy</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// Model定义，copyWithZone第一种实现（浅copy）</span><br><span class="line">@interface Model1 : NSObject&lt;NSCopying&gt;</span><br><span class="line">@property (nonatomic, assign) NSInteger a;</span><br><span class="line">@end</span><br><span class="line"> </span><br><span class="line">@implementation Model1</span><br><span class="line">- (id)copyWithZone:(NSZone *)zone &#123;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br><span class="line"> </span><br><span class="line">// Model定义，copyWithZone第二种实现（深copy）</span><br><span class="line">@interface Model1 : NSObject </span><br><span class="line">@property (nonatomic, assign) NSInteger a;</span><br><span class="line">@end</span><br><span class="line"> </span><br><span class="line">@implementation Model1</span><br><span class="line">- (id)copyWithZone:(NSZone *)zone &#123;</span><br><span class="line">    Model1 *model = [[Model1 allocWithZone:zone] init];</span><br><span class="line">    model.a = self.a;</span><br><span class="line">    return model;</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br><span class="line"> </span><br><span class="line">// 分别选择上述两种model进行指针打印。</span><br><span class="line">Model1 *model = [[Model1 alloc] init];</span><br><span class="line">Model1 *copyModel = [model copy];</span><br><span class="line">NSLog(@&quot;%p&quot;, model);</span><br><span class="line">NSLog(@&quot;%p&quot;, copyModel);</span><br></pre></td></tr></table></figure>
<p>执行结果</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对应上述一，可见实现了浅copy</span></span><br><span class="line"><span class="number">2016</span><span class="number">-10</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">12</span>:<span class="number">03.149</span> Memory[<span class="number">67723</span>:<span class="number">5636292</span>] <span class="number">0x60000000c9d0</span></span><br><span class="line"><span class="number">2016</span><span class="number">-10</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">12</span>:<span class="number">03.149</span> Memory[<span class="number">67723</span>:<span class="number">5636292</span>] <span class="number">0x60000000c9d0</span></span><br><span class="line"><span class="comment">// 对应上述二，可见实现了深copy</span></span><br><span class="line"><span class="number">2016</span><span class="number">-10</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">46.803</span> Memory[<span class="number">67752</span>:<span class="number">5640133</span>] <span class="number">0x60800001df00</span></span><br><span class="line"><span class="number">2016</span><span class="number">-10</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">16</span>:<span class="number">46.803</span> Memory[<span class="number">67752</span>:<span class="number">5640133</span>] <span class="number">0x60800001def0</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>深浅复制：一切就看你怎么实现NSCopying协议中的copyWithZone:方法。</p>
</blockquote>
<h4 id="Foundation框架集合对象"><a href="#Foundation框架集合对象" class="headerlink" title="Foundation框架集合对象"></a>Foundation框架集合对象</h4><h5 id="单层深复制"><a href="#单层深复制" class="headerlink" title="单层深复制"></a>单层深复制</h5><blockquote>
<p>与非集合框架类一样，对不可变变集合执行复制即是浅复制</p>
</blockquote>
<h5 id="单层深复制-1"><a href="#单层深复制-1" class="headerlink" title="单层深复制"></a>单层深复制</h5><p><img src="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Collections/Art/CopyingCollections_2x.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">NSArray *arr = [NSArray arrayWithObjects:@&quot;1&quot;, nil];</span><br><span class="line">NSArray *copyArr = [arr mutableCopy];</span><br><span class="line"> </span><br><span class="line">NSLog(@&quot;%p&quot;, arr);</span><br><span class="line">NSLog(@&quot;%p&quot;, copyArr);</span><br><span class="line"> </span><br><span class="line">// 打印arr、copyArr内部元素进行对比</span><br><span class="line">NSLog(@&quot;%p&quot;, arr[0]);</span><br><span class="line">NSLog(@&quot;%p&quot;, copyArr[0]);</span><br><span class="line"></span><br><span class="line">// 虽然集合的对象的地址改变，但集合元素地址还是不变，属于浅复制</span><br><span class="line">2016-10-21 11:32:27.157 Memory[67801:5649757] 0x6000000030d0</span><br><span class="line">2016-10-21 11:32:27.157 Memory[67801:5649757] 0x600000242e50</span><br><span class="line">2016-10-21 11:32:27.157 Memory[67801:5649757] 0x10dd811b0</span><br><span class="line">2016-10-21 11:32:27.157 Memory[67801:5649757] 0x10dd811b0</span><br></pre></td></tr></table></figure>
<h4 id="深复制-双层"><a href="#深复制-双层" class="headerlink" title="深复制(双层)"></a>深复制(双层)</h4><p>这里的双层指的是完成了NSArray对象和NSArray容器内对象的深copy（为什么不说完全，是因为无法处理NSArray中还有一个NSArray这种情况）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">// 随意创建一个NSMutableString对象</span><br><span class="line">NSMutableString *mutableString = [NSMutableString stringWithString:@&quot;1&quot;];</span><br><span class="line">// 随意创建一个包涵NSMutableString的NSMutableArray对象</span><br><span class="line">NSMutableString *mutalbeString1 = [NSMutableString stringWithString:@&quot;1&quot;];</span><br><span class="line">NSMutableArray *mutableArr = [NSMutableArray arrayWithObjects:mutalbeString1, nil];</span><br><span class="line">// 将mutableString和mutableArr放入一个新的NSArray中</span><br><span class="line">NSArray *testArr = [NSArray arrayWithObjects:mutableString, mutableArr, nil];</span><br><span class="line">// 通过官方文档提供的方式创建copy</span><br><span class="line">NSArray *testArrCopy = [[NSArray alloc] initWithArray:testArr copyItems:YES];</span><br><span class="line"> </span><br><span class="line">// testArr和testArrCopy指针对比</span><br><span class="line">NSLog(@&quot;%p&quot;, testArr);</span><br><span class="line">NSLog(@&quot;%p&quot;, testArrCopy);</span><br><span class="line"> </span><br><span class="line">// testArr和testArrCopy中元素指针对比</span><br><span class="line">// mutableString对比</span><br><span class="line">NSLog(@&quot;%p&quot;, testArr[0]);</span><br><span class="line">NSLog(@&quot;%p&quot;, testArrCopy[0]);</span><br><span class="line">// mutableArr对比</span><br><span class="line">NSLog(@&quot;%p&quot;, testArr[1]);</span><br><span class="line">NSLog(@&quot;%p&quot;, testArrCopy[1]);</span><br><span class="line"> </span><br><span class="line">// mutableArr中的元素对比，即mutalbeString1对比</span><br><span class="line">NSLog(@&quot;%p&quot;, testArr[1][0]);</span><br><span class="line">NSLog(@&quot;%p&quot;, testArrCopy[1][0]);</span><br><span class="line"></span><br><span class="line">// 这里可以发现，copy后，只有mutableArr中的mutalbeString1指针地址没有变化。而testArr的指针和testArr中的mutableArr、mutableString的指针地址均发生变化。所以称之为双层深复制。</span><br><span class="line">2016-10-21 12:03:15.549 Memory[67855:5668888] 0x60800003c7a0</span><br><span class="line">2016-10-21 12:03:15.549 Memory[67855:5668888] 0x60800003c880</span><br><span class="line">2016-10-21 12:03:15.549 Memory[67855:5668888] 0x608000260540</span><br><span class="line">2016-10-21 12:03:15.550 Memory[67855:5668888] 0xa000000000000311</span><br><span class="line">2016-10-21 12:03:15.550 Memory[67855:5668888] 0x60800005d610</span><br><span class="line">2016-10-21 12:03:15.550 Memory[67855:5668888] 0x60800000d2e0</span><br><span class="line">2016-10-21 12:03:15.550 Memory[67855:5668888] 0x608000260980</span><br><span class="line">2016-10-21 12:03:15.550 Memory[67855:5668888] 0x608000260980</span><br></pre></td></tr></table></figure>
<h4 id="完全深复制"><a href="#完全深复制" class="headerlink" title="完全深复制"></a>完全深复制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">// 随意创建一个NSMutableString对象</span><br><span class="line">NSMutableString *mutableString = [NSMutableString stringWithString:@&quot;1&quot;];</span><br><span class="line">// 随意创建一个包涵NSMutableString的NSMutableArray对象</span><br><span class="line">NSMutableString *mutalbeString1 = [NSMutableString stringWithString:@&quot;1&quot;];</span><br><span class="line">NSMutableArray *mutableArr = [NSMutableArray arrayWithObjects:mutalbeString1, nil];</span><br><span class="line">// 将mutableString和mutableArr放入一个新的NSArray中</span><br><span class="line">NSArray *testArr = [NSArray arrayWithObjects:mutableString, mutableArr, nil];</span><br><span class="line">// 通过归档、解档方式创建copy</span><br><span class="line">NSArray *testArrCopy = [NSKeyedUnarchiver unarchiveObjectWithData:</span><br><span class="line">                            [NSKeyedArchiver archivedDataWithRootObject:testArr]];;</span><br><span class="line"></span><br><span class="line">// testArr和testArrCopy指针对比</span><br><span class="line">NSLog(@&quot;%p&quot;, testArr);</span><br><span class="line">NSLog(@&quot;%p&quot;, testArrCopy);</span><br><span class="line"></span><br><span class="line">// testArr和testArrCopy中元素指针对比</span><br><span class="line">// mutableString对比</span><br><span class="line">NSLog(@&quot;%p&quot;, testArr[0]);</span><br><span class="line">NSLog(@&quot;%p&quot;, testArrCopy[0]);</span><br><span class="line">// mutableArr对比</span><br><span class="line">NSLog(@&quot;%p&quot;, testArr[1]);</span><br><span class="line">NSLog(@&quot;%p&quot;, testArrCopy[1]);</span><br><span class="line"></span><br><span class="line">// mutableArr中的元素对比，即mutalbeString1对比</span><br><span class="line">NSLog(@&quot;%p&quot;, testArr[1][0]);</span><br><span class="line">NSLog(@&quot;%p&quot;, testArrCopy[1][0])</span><br><span class="line"> </span><br><span class="line">  // 结果分析</span><br><span class="line">2016-10-21 12:19:34.022 Memory[67887:5677318] 0x60800002db00</span><br><span class="line">2016-10-21 12:19:34.022 Memory[67887:5677318] 0x60800002dc20</span><br><span class="line">2016-10-21 12:19:34.022 Memory[67887:5677318] 0x608000260400</span><br><span class="line">2016-10-21 12:19:34.023 Memory[67887:5677318] 0x6080002603c0</span><br><span class="line">2016-10-21 12:19:34.023 Memory[67887:5677318] 0x608000051d90</span><br><span class="line">2016-10-21 12:19:34.023 Memory[67887:5677318] 0x6080000521e0</span><br><span class="line">2016-10-21 12:19:34.023 Memory[67887:5677318] 0x608000260600</span><br><span class="line">2016-10-21 12:19:34.023 Memory[67887:5677318] 0x6080002606c0</span><br></pre></td></tr></table></figure>
<h4 id="copy-与关键字"><a href="#copy-与关键字" class="headerlink" title="copy 与关键字"></a>copy 与关键字</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// 首先分别给出copy和strong修饰的属性，以NSString举例</span><br><span class="line">// 1、strong</span><br><span class="line">@property (nonatomic, strong) NSString *str;</span><br><span class="line">// 2、copy</span><br><span class="line">@property (nonatomic, copy) NSString *str;</span><br><span class="line"> </span><br><span class="line">// 分别对1和2执行下述代码</span><br><span class="line">NSMutableString *mutableStr = [NSMutableString stringWithFormat:@&quot;123&quot;];</span><br><span class="line">self.str = mutableStr;</span><br><span class="line">[mutableStr appendString:@&quot;456&quot;];</span><br><span class="line">NSLog(@&quot;%@&quot;, self.str);</span><br><span class="line">NSLog(@&quot;%p&quot;, self.str);</span><br><span class="line">NSLog(@&quot;%@&quot;, mutableStr);</span><br><span class="line">NSLog(@&quot;%p&quot;, mutableStr);</span><br><span class="line"> </span><br><span class="line">// 结果1</span><br><span class="line">2016-10-21 14:08:46.657 Memory[68242:5714288] 123456</span><br><span class="line">2016-10-21 14:08:46.657 Memory[68242:5714288] 0x608000071040</span><br><span class="line">2016-10-21 14:08:46.657 Memory[68242:5714288] 123456</span><br><span class="line">2016-10-21 14:08:46.657 Memory[68242:5714288] 0x608000071040</span><br><span class="line">// 结果2</span><br><span class="line">2016-10-21 14:11:16.879 Memory[68264:5716282] 123</span><br><span class="line">2016-10-21 14:11:16.880 Memory[68264:5716282] 0xa000000003332313</span><br><span class="line">2016-10-21 14:11:16.880 Memory[68264:5716282] 123456</span><br><span class="line">2016-10-21 14:11:16.880 Memory[68264:5716282] 0x60000007bbc0</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Foundation框架 中有可变与不可变的类如NSString，NSNumber,NSAarray ,通常使用copy关键字修饰</p>
<p>原因: 由于OC的多态，不可变的对象指针可以指向可变对象，这会导致声明为不可变的对象属性遭到篡改，不安全</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/10/12/1swift-tips/swift单例/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/12/1swift-tips/swift单例/" itemprop="url">
                  Swift单例
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-12T19:48:20+08:00">
                2016-10
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="全局变量-amp-amp-类的变量"><a href="#全局变量-amp-amp-类的变量" class="headerlink" title="全局变量 &amp;&amp; 类的变量"></a>全局变量 &amp;&amp; 类的变量</h4><ul>
<li>针对某个类，全局变量一般是声明在类的作用范围外的变量</li>
<li>类的变量(类型)：用static修饰，定义在 类的最外层括号</li>
</ul>
<blockquote>
<p>在 C 或 Objective-C 中，与某个类型关联的静态常量和静态变量，是作为全局（<em>global</em>）静态变量定义的。但是在 Swift 中，类型属性是作为类型定义的一部分写在类型最外层的花括号内，因此它的作用范围也就在类型支持的范围内。</p>
</blockquote>
<p>使用关键字 <code>static</code> 来定义类型属性。在为类定义计算型类型属性时，可以改用关键字 <code>class</code> 来支持子类对父类的实现进行重写。下面的例子演示了存储型和计算型类型属性的语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">struct SomeStructure &#123;</span><br><span class="line">    static var storedTypeProperty = &quot;Some value.&quot;</span><br><span class="line">    static var computedTypeProperty: Int &#123;</span><br><span class="line">        return 1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">enum SomeEnumeration &#123;</span><br><span class="line">    static var storedTypeProperty = &quot;Some value.&quot;</span><br><span class="line">    static var computedTypeProperty: Int &#123;</span><br><span class="line">        return 6</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class SomeClass &#123;</span><br><span class="line">    static var storedTypeProperty = &quot;Some value.&quot;</span><br><span class="line">    static var computedTypeProperty: Int &#123;</span><br><span class="line">        return 27</span><br><span class="line">    &#125;</span><br><span class="line">    class var overrideableComputedTypeProperty: Int &#123;</span><br><span class="line">        return 107</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>全局变量和类的变量默认都是懒加载，swift的懒加载相当于OC调用dispatch_once</li>
</ul>
<blockquote>
<p>（“The lazy initializer for a global variable (also for static members of structs and enums) is run the first time that global is accessed, and is launched as <code>dispatch_once</code> to make sure that the initialization is atomic. This enables a cool way to use <code>dispatch_once</code> in your code: just declare a global variable with an initializer and mark it private.”）</p>
</blockquote>
<h4 id="实现单例"><a href="#实现单例" class="headerlink" title="实现单例"></a>实现单例</h4><p>由此我们可以知晓实现单例的两种方式</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用全局变量</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">let</span> instance = <span class="type">Model</span>()</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">shared</span>() -&gt; <span class="title">Model</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用类的变量</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model</span>: <span class="title">NSObject</span> </span>&#123; </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">Model</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/10/11/1reactivecocoa/组件化初探/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/11/1reactivecocoa/组件化初探/" itemprop="url">
                  组件化初探
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-11T23:38:06+08:00">
                2016-10
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考文章:</p>
<p><a href="http://mrpeak.cn/blog/module/" target="_blank" rel="external">iOS组件化方案</a></p>
<p><a href="http://blog.cnbang.net/tech/3080/" target="_blank" rel="external">iOS 组件化方案探索</a></p>
<ol>
<li><p>为什么需要组件化?</p>
<blockquote>
<p>我们假设这样一个场景，公司有 A，B，C三个项目在appstore运作，三个项目分别由Team A，Team B，Team C开发维护，每个Team由五名工程师组成，其中一名担任小组长，三个Team之上再配备一位Leader，一位架构师。这时，公司决定开辟新的业务领域，成立项目D，并新招了5名工程师来开发。架构师和Leader此时首要工作是选定技术方案，让项目D能又快又稳的启动，同时要规避新工程师磨合期可能引入的副作用。如果之前有过组件化的设计，项目D可以重用之前A，B，C的部分组件，比如【用户登录】，【内存管理】，【日志打点系统】，【个人Profile模块】等等，新成员也可以在已有的codebase基础之上快速上手。如果没有做过组件化的处理，那么要从A，B，C中抽离出诸如【用户登录】的独立模块，会相当的痛苦，高度耦合的代码盘根错节，重用起来费时费力，对团队的人力是浪费，更影响整体的项目进度。我们的目标是重用高度抽象的代码单元。</p>
<p>简单理解: 减少各个模块的耦合。</p>
</blockquote>
</li>
<li><p>ios 的push方式为什么不能叫组件化？</p>
</li>
</ol>
<p><img src="http://blog.cnbang.net/wp-content/uploads/2016/03/component1.png" alt=""></p>
<blockquote>
<p>传统push 各个模块耦合性非常强</p>
</blockquote>
<p>解决方案： 加一个中间层</p>
<p><img src="http://blog.cnbang.net/wp-content/uploads/2016/03/component2-1024x597.png" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/10/01/1swift-tips/访问权限控制/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/01/1swift-tips/访问权限控制/" itemprop="url">
                  访问级别控制
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-01T00:22:12+08:00">
                2016-10
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="原有访问级别"><a href="#原有访问级别" class="headerlink" title="原有访问级别"></a>原有访问级别</h4><ol>
<li>公开(public)</li>
<li>内部(internal)</li>
<li>私有(private)</li>
</ol>
<blockquote>
<p>默认的访问级别是 <code>internal</code></p>
</blockquote>
<h4 id="新的访问级别"><a href="#新的访问级别" class="headerlink" title="新的访问级别"></a>新的访问级别</h4><ol>
<li>完全公开(open)</li>
<li>公开（public）</li>
<li>内部(internal)</li>
<li>文件外私有(fileprivate)</li>
<li>私有(private)</li>
</ol>
<h5 id="open"><a href="#open" class="headerlink" title="open"></a>open</h5><ul>
<li>这个元素可以在其他模块被访问</li>
<li>这个元素可以在其他模块被继承或者override</li>
</ul>
<blockquote>
<p>open解决问题: 继承是一件危险的事情。尤其对于一个framework或者module的设计者而言。在自身的module内，类或者属性对于作者而言是清晰的，能否被继承或者override都是可控的。但是对于使用它的人，作者有时会希望传达出这个类或者属性不应该被继承或者修改。</p>
</blockquote>
<h5 id="public"><a href="#public" class="headerlink" title="public"></a>public</h5><ul>
<li>这个元素可以在其他模块被访问</li>
</ul>
<h5 id="private-fileprivate"><a href="#private-fileprivate" class="headerlink" title="private , fileprivate"></a>private , fileprivate</h5><p>fileprivate:同一个文件内可见</p>
<p>private:只能在在对应类或者结构体可见</p>
<blockquote>
<p>举个例子，在这个文件当中我创建了一个类。在这个类当中我添加了一个 <code>private</code> 的属性和一个 <code>private</code> 的方法。这两个成员只能够在这个类当中可见，就算位于相同文件内，其他类也是无法访问这两个成员的。因此，也就是说，在过去，这两个成员在整个文件当中都可以访问得到；而到了现在，<code>private</code> 方法只能够在相同类当中可见了。也就是说，昔日的 <code>private</code> 变成了今日的 <code>fileprivate</code>，而新的访问级别让我们有了更私有的访问权限。</p>
</blockquote>
<p><a href="http://www.jianshu.com/p/604305a61e57" target="_blank" rel="external">Swift 3必看：新的访问控制fileprivate和open</a></p>
<p><a href="https://realm.io/cn/news/appbuilders-daniel-steinberg-whats-new-swift-3/" target="_blank" rel="external">Swift 3 新特性一览</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/09/29/闲聊/费曼学习技巧/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/29/闲聊/费曼学习技巧/" itemprop="url">
                  费曼学习技巧
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-29T21:48:20+08:00">
                2016-09
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="费曼技巧"><a href="#费曼技巧" class="headerlink" title="费曼技巧"></a>费曼技巧</h4><ul>
<li><p>写出某个知识点现有的认知，</p>
<ul>
<li><p>用简单的话描述，比喻的话描述，像给一个外行人讲述一样。(越形象说明你理解得越透彻)</p>
</li>
<li><p>如何写，先不看书 </p>
<ul>
<li>按照你现有的理解去写，这样你才能知晓你现在你的掌握程度和欠缺程度</li>
</ul>
<p>​                    </p>
</li>
</ul>
</li>
<li><p>如果那块知识点不懂再回去查，这时候是带着问题去查</p>
</li>
</ul>
<blockquote>
<p>包含的思想：</p>
<ul>
<li>自我反思组织的思想</li>
<li>具象化的思想？</li>
</ul>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/08/20/UI再认识/effetive-oc笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/20/UI再认识/effetive-oc笔记/" itemprop="url">
                  ScrollView的再认识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-20T13:28:35+08:00">
                2016-08
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>ScrollView 是UI的基础！ —-tony</p>
</blockquote>
<h4 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h4><h5 id="contentSize"><a href="#contentSize" class="headerlink" title="contentSize"></a>contentSize</h5><p>The <code>contentSize</code> property is the size of the content that you need to display in the scroll view. In Creating Scroll Views in Interface Builder, it is set to 320 wide by 758 pixels high. The image in Figure 1-2 shows the content of the scroll view with the <code>contentSize</code> width and height indicated.</p>
<p><img src="https://developer.apple.com/library/content/documentation/WindowsViews/Conceptual/UIScrollView_pg/Art/contentSize.jpg" alt=""></p>
<h5 id="contentInset-amp-amp-contentoffset-产生联动"><a href="#contentInset-amp-amp-contentoffset-产生联动" class="headerlink" title="contentInset  &amp;&amp; contentoffset 产生联动"></a>contentInset  &amp;&amp; contentoffset 产生联动</h5><blockquote>
<p>The property <a href="http://developer.apple.com/library/ios/documentation/uikit/reference/UIScrollView_Class/Reference/UIScrollView.html#//apple_ref/occ/instp/UIScrollView/contentInset" target="_blank" rel="external"><code>contentInset</code></a> can  <strong> change the maximum and minimum values of the content offset to allow scrolling outside of the scrollable area.</strong> </p>
<p>Its type is<a href="http://developer.apple.com/library/ios/#documentation/uikit/reference/UIKitDataTypesReference/Reference/reference.html#//apple_ref/doc/c_ref/UIEdgeInsets" target="_blank" rel="external"><code>UIEdgeInsets</code></a>, which consists of 4 numbers: <code>{top, left, bottom, right}</code>. When you introduce an inset, you change the range of the content offset. For example, setting the content inset to have a value of 10 for its top value allows the content offset’s y value to reach -10. This introduces padding around the scrollable area.</p>
</blockquote>
<p><img src="https://www.objc.io/images/issue-3/SV6@2x-7ad19d8b.png" alt=""></p>
<p><strong>automaticallyAdjustsScrollViewInsets</strong></p>
<p>A Boolean value that indicates whether the view controller should automatically adjust its scroll view insets.</p>
<blockquote>
<p> which auto set the  top to 64 if having navigationBar (toobar considing)</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/08/20/UI再认识/layer学习/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/20/UI再认识/layer学习/" itemprop="url">
                  ScrollView的再认识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-20T13:28:35+08:00">
                2016-08
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="1-CAGradientLayer"><a href="#1-CAGradientLayer" class="headerlink" title="1. CAGradientLayer"></a>1. CAGradientLayer</h5><p>是干嘛的: 处理颜色过度的一个layer</p>
<p>基本属性</p>
<ol>
<li>方向: startpoint endpoint</li>
<li>颜色组合: colors </li>
<li>颜色分布区间: locations</li>
</ol>
<p>Gradient: 梯度</p>
<blockquote>
<p><code>CAGradientLayer</code>是用来生成两种或更多颜色平滑渐变的渐变</p>
</blockquote>
<p>本地项目: ColorsView</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="atony2099.github.io/2016/08/20/effetive-oc笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="tony2009">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="托尼的开发笔记">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="托尼的开发笔记" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/20/effetive-oc笔记/" itemprop="url">
                  effetive oc笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-20T13:28:35+08:00">
                2016-08
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.多用字面量语法 </p>
<ul>
<li><p>好处</p>
</li>
<li><p>实例</p>
</li>
<li><p>创建可变</p>
<p>​</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="tony2009" />
          <p class="site-author-name" itemprop="name">tony2009</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">73</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tony2009</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  




  
  

  

  

  

  


</body>
</html>
